2025-11-28T09:48:50.731+09:00  INFO 8912 --- [restartedMain] com.medi.backend.BackendApplication      : Starting BackendApplication using Java 17.0.15 with PID 8912 (C:\medi\backend\build\classes\java\main started by USER in C:\medi\backend)
2025-11-28T09:48:50.755+09:00 DEBUG 8912 --- [restartedMain] com.medi.backend.BackendApplication      : Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-28T09:48:50.758+09:00  INFO 8912 --- [restartedMain] com.medi.backend.BackendApplication      : No active profile set, falling back to 1 default profile: "default"
2025-11-28T09:48:50.931+09:00  INFO 8912 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-28T09:48:50.937+09:00  INFO 8912 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-28T09:48:55.749+09:00 DEBUG 8912 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-11-28T09:48:55.758+09:00 DEBUG 8912 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.medi.backend'
2025-11-28T09:48:57.064+09:00  INFO 8912 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-28T09:48:57.100+09:00  INFO 8912 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-28T09:48:57.337+09:00  INFO 8912 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 159 ms. Found 0 Redis repository interfaces.
2025-11-28T09:48:57.894+09:00 DEBUG 8912 --- [restartedMain] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-11-28T09:48:57.984+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\admin\mapper\AdminMapper.class]
2025-11-28T09:48:58.001+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\agent\mapper\AgentMapper.class]
2025-11-28T09:48:58.033+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\auth\mapper\AuthMapper.class]
2025-11-28T09:48:58.076+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\billing\mapper\BillingMapper.class]
2025-11-28T09:48:58.084+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\filter\mapper\FilterMapper.class]
2025-11-28T09:48:58.092+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\userdashboard\mapper\UserDashboardMapper.class]
2025-11-28T09:48:58.098+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\user\mapper\UserMapper.class]
2025-11-28T09:48:58.102+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\ChannelMapper.class]
2025-11-28T09:48:58.106+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\VideoMapper.class]
2025-11-28T09:48:58.121+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeChannelMapper.class]
2025-11-28T09:48:58.128+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeCommentSyncCursorMapper.class]
2025-11-28T09:48:58.142+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeOAuthTokenMapper.class]
2025-11-28T09:48:58.145+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeSyncStatusMapper.class]
2025-11-28T09:48:58.148+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeVideoMapper.class]
2025-11-28T09:48:58.154+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'adminMapper' and 'com.medi.backend.admin.mapper.AdminMapper' mapperInterface
2025-11-28T09:48:58.162+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'agentMapper' and 'com.medi.backend.agent.mapper.AgentMapper' mapperInterface
2025-11-28T09:48:58.173+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'authMapper' and 'com.medi.backend.auth.mapper.AuthMapper' mapperInterface
2025-11-28T09:48:58.174+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'billingMapper' and 'com.medi.backend.billing.mapper.BillingMapper' mapperInterface
2025-11-28T09:48:58.176+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'filterMapper' and 'com.medi.backend.filter.mapper.FilterMapper' mapperInterface
2025-11-28T09:48:58.178+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userDashboardMapper' and 'com.medi.backend.userdashboard.mapper.UserDashboardMapper' mapperInterface
2025-11-28T09:48:58.181+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.medi.backend.user.mapper.UserMapper' mapperInterface
2025-11-28T09:48:58.187+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'channelMapper' and 'com.medi.backend.youtube.mapper.ChannelMapper' mapperInterface
2025-11-28T09:48:58.188+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'videoMapper' and 'com.medi.backend.youtube.mapper.VideoMapper' mapperInterface
2025-11-28T09:48:58.191+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeChannelMapper' and 'com.medi.backend.youtube.mapper.YoutubeChannelMapper' mapperInterface
2025-11-28T09:48:58.192+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeCommentSyncCursorMapper' and 'com.medi.backend.youtube.mapper.YoutubeCommentSyncCursorMapper' mapperInterface
2025-11-28T09:48:58.194+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeOAuthTokenMapper' and 'com.medi.backend.youtube.mapper.YoutubeOAuthTokenMapper' mapperInterface
2025-11-28T09:48:58.196+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeSyncStatusMapper' and 'com.medi.backend.youtube.mapper.YoutubeSyncStatusMapper' mapperInterface
2025-11-28T09:48:58.198+09:00 DEBUG 8912 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeVideoMapper' and 'com.medi.backend.youtube.mapper.YoutubeVideoMapper' mapperInterface
2025-11-28T09:49:01.506+09:00  INFO 8912 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-28T09:49:01.577+09:00  INFO 8912 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-28T09:49:01.584+09:00  INFO 8912 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-28T09:49:01.830+09:00  INFO 8912 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-28T09:49:01.847+09:00  INFO 8912 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10906 ms
2025-11-28T09:49:04.183+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\admin\adminMapper.xml]'
2025-11-28T09:49:04.359+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]'
2025-11-28T09:49:04.375+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\auth\AuthMapper.xml]'
2025-11-28T09:49:04.404+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\billing\BillingMapper.xml]'
2025-11-28T09:49:04.445+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\filter\FilterMapper.xml]'
2025-11-28T09:49:04.476+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\userdashboard\UserDashboardMapper.xml]'
2025-11-28T09:49:04.499+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\user\UserMapper.xml]'
2025-11-28T09:49:04.515+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\ChannelMapper.xml]'
2025-11-28T09:49:04.528+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\VideoMapper.xml]'
2025-11-28T09:49:04.544+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeChannelMapper.xml]'
2025-11-28T09:49:04.559+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeCommentSyncCursorMapper.xml]'
2025-11-28T09:49:04.569+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeOAuthTokenMapper.xml]'
2025-11-28T09:49:04.584+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeSyncStatusMapper.xml]'
2025-11-28T09:49:04.612+09:00 DEBUG 8912 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeVideoMapper.xml]'
2025-11-28T09:49:06.022+09:00  INFO 8912 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-28T09:49:06.024+09:00  WARN 8912 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-28T09:49:06.995+09:00  INFO 8912 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Transcript Executor 빈 생성 완료: corePoolSize=2, maxPoolSize=3, queueCapacity=50
2025-11-28T09:49:07.016+09:00  INFO 8912 --- [restartedMain] c.m.b.y.r.s.YoutubeTranscriptServiceImpl : ? Transcript Executor 초기화 완료
2025-11-28T09:49:07.044+09:00  INFO 8912 --- [restartedMain] c.m.b.youtube.service.YoutubeService     : ? YoutubeRedisSyncService가 정상적으로 주입되었습니다.
2025-11-28T09:49:07.145+09:00  INFO 8912 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Redis Sync Executor 빈 생성 완료: corePoolSize=4, maxPoolSize=8, queueCapacity=50
2025-11-28T09:49:08.278+09:00  INFO 8912 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-11-28T09:49:08.668+09:00 DEBUG 8912 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextPersistenceFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-28T09:49:08.921+09:00 DEBUG 8912 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-28T09:49:09.605+09:00  INFO 8912 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-28T09:49:09.736+09:00  INFO 8912 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-28T09:49:09.776+09:00  INFO 8912 --- [restartedMain] com.medi.backend.BackendApplication      : Started BackendApplication in 20.564 seconds (process running for 22.013)
2025-11-28T09:49:09.794+09:00  INFO 8912 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp 설치 확인 시작: path=yt-dlp
2025-11-28T09:49:10.669+09:00  INFO 8912 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp가 이미 설치되어 있습니다: version=2025.11.12
2025-11-28T09:57:00.566+09:00  INFO 8912 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28T09:57:00.567+09:00  INFO 8912 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-28T09:57:00.575+09:00  INFO 8912 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-11-28T09:57:00.611+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-28T09:57:00.636+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-11-28T09:57:00.648+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-28T09:57:00.668+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-28T09:57:00.878+09:00  INFO 8912 --- [http-nio-8080-exec-2] c.m.b.auth.controller.AuthController     : 로그인 시도: aadd@medi.com
2025-11-28T09:57:00.983+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.g.s.s.CustomUserDetailsService     : 로그인 시도: aadd@medi.com
2025-11-28T09:57:00.993+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T09:57:01.000+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6365beb5] was not registered for synchronization because synchronization is not active
2025-11-28T09:57:01.018+09:00  INFO 8912 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-28T09:57:01.362+09:00  INFO 8912 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f
2025-11-28T09:57:01.366+09:00  INFO 8912 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-28T09:57:01.371+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1052967567 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T09:57:01.378+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T09:57:01.430+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T09:57:01.486+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T09:57:01.494+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6365beb5]
2025-11-28T09:57:01.497+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.g.s.s.CustomUserDetailsService     : 사용자 인증 정보 로드 완료: aadd@medi.com (userId: 11, 권한: ADMIN)
2025-11-28T09:57:01.581+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-28T09:57:01.638+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T09:57:01.639+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@692b1b28] was not registered for synchronization because synchronization is not active
2025-11-28T09:57:01.640+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149533563 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T09:57:01.640+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T09:57:01.642+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T09:57:01.645+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T09:57:01.646+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@692b1b28]
2025-11-28T09:57:01.646+09:00  INFO 8912 --- [http-nio-8080-exec-2] c.m.b.auth.controller.AuthController     : 로그인 성공: aadd@medi.com (세션 ID: D7D76DB0499E0FF73F907B1C623E5616)
2025-11-28T09:57:01.705+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3b3472b5]
2025-11-28T09:57:01.711+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3b3472b5]
2025-11-28T09:57:01.712+09:00 DEBUG 8912 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T09:57:41.551+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/filter/preferences
2025-11-28T09:57:41.552+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T09:57:41.553+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T09:57:41.554+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/filter/preferences
2025-11-28T09:57:41.566+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T09:57:41.575+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T09:57:41.575+09:00  INFO 8912 --- [http-nio-8080-exec-3] c.m.b.f.controller.FilterController      : ? [필터 API] 설정 저장: userId=11, channelId=null
2025-11-28T09:57:41.591+09:00  INFO 8912 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 저장 시작: userId=11, channelId=null
2025-11-28T09:57:41.594+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T09:57:41.596+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:41.599+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@658342736 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T09:57:41.599+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==>  Preparing: INSERT INTO user_filter_preferences (user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, TRUE), NOW(), NOW()) ON DUPLICATE KEY UPDATE selected_categories = VALUES(selected_categories), custom_rule_keywords = VALUES(custom_rule_keywords), dislike_examples = VALUES(dislike_examples), allow_examples = VALUES(allow_examples), email_notification_settings = VALUES(email_notification_settings), is_active = VALUES(is_active), updated_at = NOW()
2025-11-28T09:57:41.615+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==> Parameters: 11(Integer), null, ["profanity"](String), {}(String), ["예시1","예시2","예시3"](String), [](String), {"enabled":true,"timeUnit":"HOURLY","threshold":5,"email":"heomin00518@naver.com"}(String), true(Boolean)
2025-11-28T09:57:41.628+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : <==    Updates: 1
2025-11-28T09:57:41.635+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:41.636+09:00  INFO 8912 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] DB 저장 완료: id=1, userId=11, channelId=null
2025-11-28T09:57:41.637+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 시작: userId=11, channelId=null
2025-11-28T09:57:41.638+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f] from current transaction
2025-11-28T09:57:41.678+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T09:57:41.680+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T09:57:41.692+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T09:57:41.694+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:41.696+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f] from current transaction
2025-11-28T09:57:41.700+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==>  Preparing: SELECT id, category_id, comment_text, suggested_label, difficulty_level, usage_count, is_active FROM filter_example_comments WHERE is_active = TRUE AND category_id = ? ORDER BY FIELD(suggested_label, 'block', 'allow'), -- block 먼저, allow 나중 FIELD(difficulty_level, 'EASY', 'MEDIUM', 'HARD'), -- 난이도 순 RAND() -- 랜덤 LIMIT ?
2025-11-28T09:57:41.702+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==> Parameters: profanity(String), 10(Integer)
2025-11-28T09:57:41.718+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : <==      Total: 10
2025-11-28T09:57:41.719+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:41.724+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 완료 (JSON): 길이=683자, 카테고리=1개, Few-shot=1개
2025-11-28T09:57:42.260+09:00 ERROR 8912 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [Redis 저장] 실패: userId=11, channelId=null

org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1866) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1797) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1594) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1574) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1535) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1571) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1257) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1063) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.DefaultValueOperations.set(DefaultValueOperations.java:200) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at com.medi.backend.filter.service.FilterPreferenceServiceImpl.saveToRedis(FilterPreferenceServiceImpl.java:219) ~[main/:na]
	at com.medi.backend.filter.service.FilterPreferenceServiceImpl.savePreference(FilterPreferenceServiceImpl.java:74) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.filter.service.FilterPreferenceServiceImpl$$SpringCGLIB$$0.savePreference(<generated>) ~[main/:na]
	at com.medi.backend.filter.controller.FilterController.savePreference(FilterController.java:73) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.filter.controller.FilterController$$SpringCGLIB$$0.savePreference(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:220) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1795) ~[spring-data-redis-3.5.4.jar:3.5.4]
	... 199 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-11-28T09:57:42.302+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:42.303+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:42.304+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f795f]
2025-11-28T09:57:42.325+09:00 ERROR 8912 --- [http-nio-8080-exec-3] c.m.b.g.e.GlobalExceptionHandler         : Unexpected exception at /api/filter/preferences: Unable to connect to Redis

org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1866) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1797) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1594) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1574) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1535) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1571) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1257) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1063) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.cache.DefaultRedisCacheWriter.execute(DefaultRedisCacheWriter.java:401) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.cache.DefaultRedisCacheWriter.remove(DefaultRedisCacheWriter.java:312) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.cache.RedisCache.evict(RedisCache.java:257) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doEvict(AbstractCacheInvoker.java:174) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.performCacheEvicts(CacheAspectSupport.java:718) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.processCacheEvicts(CacheAspectSupport.java:699) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:623) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.filter.service.FilterPreferenceServiceImpl$$SpringCGLIB$$0.savePreference(<generated>) ~[main/:na]
	at com.medi.backend.filter.controller.FilterController.savePreference(FilterController.java:73) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.5.jar:6.5.5]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.filter.controller.FilterController$$SpringCGLIB$$0.savePreference(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:220) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1795) ~[spring-data-redis-3.5.4.jar:3.5.4]
	... 184 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-11-28T09:57:42.360+09:00  WARN 8912 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis]
2025-11-28T09:57:42.362+09:00 DEBUG 8912 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:00:00.008+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : ? [스케줄러] 시작 전 메모리 상태: 사용률=1.55%, 사용=62MB, 최대=4038MB
2025-11-28T10:00:00.009+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:00.010+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5771a694] was not registered for synchronization because synchronization is not active
2025-11-28T10:00:00.011+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2021034067 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T10:00:00.012+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findAllForSync               : ==>  Preparing: SELECT * FROM youtube_channels WHERE (deleted_at IS NULL) ORDER BY (updated_at IS NULL), updated_at DESC, created_at DESC
2025-11-28T10:00:00.012+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findAllForSync               : ==> Parameters: 
2025-11-28T10:00:00.015+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findAllForSync               : <==      Total: 3
2025-11-28T10:00:00.016+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5771a694]
2025-11-28T10:00:00.017+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 동기화 시작 - 대상 채널 수=3
2025-11-28T10:00:00.017+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:00.017+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3afe7824] was not registered for synchronization because synchronization is not active
2025-11-28T10:00:00.018+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167815688 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T10:00:00.018+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:00.019+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 11(Integer)
2025-11-28T10:00:00.024+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 0
2025-11-28T10:00:00.024+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3afe7824]
2025-11-28T10:00:00.025+09:00  WARN 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 동기화 스킵 - 토큰 없음: userId=11, channelId=UC_TEST_CHANNEL_12345
2025-11-28T10:00:00.025+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:00.025+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@659489dc] was not registered for synchronization because synchronization is not active
2025-11-28T10:00:00.025+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@753070610 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T10:00:00.026+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:00.026+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 12(Integer)
2025-11-28T10:00:00.028+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:00.028+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@659489dc]
2025-11-28T10:00:00.029+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? [트랜잭션 시작] 채널 동기화 시작: userId=12, syncVideosEveryTime=false
2025-11-28T10:00:00.030+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:00.030+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.030+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993150217 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:00:00.030+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:00.031+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 12(Integer)
2025-11-28T10:00:00.033+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:00.033+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.033+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? OAuth 토큰 조회 성공: userId=12, tokenId=1
2025-11-28T10:00:00.033+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff] from current transaction
2025-11-28T10:00:00.034+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserIdIncludingDeleted : ==>  Preparing: SELECT * FROM youtube_channels WHERE user_id = ? ORDER BY created_at DESC
2025-11-28T10:00:00.034+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserIdIncludingDeleted : ==> Parameters: 12(Integer)
2025-11-28T10:00:00.036+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserIdIncludingDeleted : <==      Total: 1
2025-11-28T10:00:00.036+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.036+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 기존 채널 조회 (삭제된 것 포함): userId=12, 기존채널수=1개
2025-11-28T10:00:00.037+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 기존 채널 매핑: channelId=UC8ESbe4JwWS7IYf-317mdmQ, name=민, deletedAt=null
2025-11-28T10:00:00.037+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff] from current transaction
2025-11-28T10:00:00.037+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.530+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff] from current transaction
2025-11-28T10:00:00.530+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.upsert                       : ==>  Preparing: INSERT INTO youtube_oauth_tokens( user_id, google_email, access_token, refresh_token, access_token_expires_at, token_status, created_at ) VALUES ( ?, ?, ?, ?, ?, ?, NOW() ) ON DUPLICATE KEY UPDATE access_token = VALUES(access_token), refresh_token = VALUES(refresh_token), access_token_expires_at = VALUES(access_token_expires_at), token_status = VALUES(token_status), updated_at = NOW()
2025-11-28T10:00:00.532+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.upsert                       : ==> Parameters: 12(Integer), als469519@gmail.com(String), ya29.a0ATi6K2v8PLvW0Z0hXxMV9sI-LHRbTsQi006ae5Zx7naZ9PvZPa7fQzjsffZmWs92_or31eJZs46zNIP69jSYyQ3s-9E3pbO-XzCeI93rsmEWaK4TiWUM73QXs059akzh10gp49fVY5hyigZ0g6SkDuXyvg0wALfgpV6YFfUj-ZkVqmupE_vScULIqCUw-YFB5hQhT8t_aCgYKAVkSARISFQHGX2Mi680sCwviRou-c_VmsfW9Tg0207(String), 1//0e6-WP0MS2kY8CgYIARAAGA4SNwF-L9IrlErnwY7wsl9-iHF0bot_S-LC6u3EgmmYA4Jw5DVSy1wr2rf0x3fMAF10WFbYK_k9qs4(String), 2025-11-28 10:59:59(String), ACTIVE(String)
2025-11-28T10:00:00.535+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.upsert                       : <==    Updates: 2
2025-11-28T10:00:00.535+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.536+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeOAuthService      : Access token 갱신 성공: userId=12
2025-11-28T10:00:00.536+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? OAuth 토큰 검증 성공: userId=12
2025-11-28T10:00:00.849+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? YouTube API 채널 조회 성공: userId=12, API채널수=1개
2025-11-28T10:00:00.849+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 채널 처리 시작: channelId=UC8ESbe4JwWS7IYf-317mdmQ, userId=12
2025-11-28T10:00:00.850+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : 기존 채널 업데이트: UC8ESbe4JwWS7IYf-317mdmQ. userId=12
2025-11-28T10:00:00.851+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 채널 저장 준비: channelId=UC8ESbe4JwWS7IYf-317mdmQ, channelName=댓글테스트!, isNew=false, wasDeleted=false, deletedAt=null
2025-11-28T10:00:00.851+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff] from current transaction
2025-11-28T10:00:00.852+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.YoutubeChannelMapper.upsert    : ==>  Preparing: INSERT INTO youtube_channels( user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, uploads_playlist_id, last_synced_at, last_video_published_at, subscriber_count, created_at ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW() ) ON DUPLICATE KEY UPDATE oauth_token_id = VALUES(oauth_token_id), channel_name = VALUES(channel_name), channel_handle = VALUES(channel_handle), thumbnail_url = VALUES(thumbnail_url), uploads_playlist_id = VALUES(uploads_playlist_id), last_synced_at = VALUES(last_synced_at), last_video_published_at = VALUES(last_video_published_at), subscriber_count = VALUES(subscriber_count), deleted_at = NULL, updated_at = NOW()
2025-11-28T10:00:00.853+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.YoutubeChannelMapper.upsert    : ==> Parameters: 12(Integer), 1(Integer), UC8ESbe4JwWS7IYf-317mdmQ(String), 댓글테스트!(String), @테스트-e3z-c8f(String), https://yt3.ggpht.com/ytc/AIdro_l3Bz6doyOqmxnbxC7YTPEYDkB4EqydIAMsbEUjvC3cQlxG46o=s88-c-k-c0x00ffffff-no-rj(String), UU8ESbe4JwWS7IYf-317mdmQ(String), 2025-11-28T10:00:00.850494500(LocalDateTime), 2025-11-05T02:30:03(LocalDateTime), 0(Long)
2025-11-28T10:00:00.859+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.YoutubeChannelMapper.upsert    : <==    Updates: 2
2025-11-28T10:00:00.860+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.860+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 채널 DB 저장 성공: channelId=UC8ESbe4JwWS7IYf-317mdmQ, channelName=댓글테스트!, userId=12
2025-11-28T10:00:00.860+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : 채널(UC8ESbe4JwWS7IYf-317mdmQ) 영상 동기화 스킵 - 이미 동기화된 채널 (새로고침은 채널 정보만 업데이트)
2025-11-28T10:00:00.861+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 채널 처리 완료: userId=12, 처리된채널=1개, 저장성공=1개, 스킵=0개
2025-11-28T10:00:00.861+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : Redis 동기화 스킵: syncVideosEveryTime=false, userId=12
2025-11-28T10:00:00.861+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 최종 채널 목록 조회 시작: userId=12
2025-11-28T10:00:00.862+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff] from current transaction
2025-11-28T10:00:00.862+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_channels WHERE user_id = ? AND (deleted_at IS NULL) ORDER BY created_at DESC
2025-11-28T10:00:00.862+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 12(Integer)
2025-11-28T10:00:00.864+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:00.865+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.865+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? [트랜잭션 성공] 채널 동기화 완료: userId=12, 반환채널수=1개, 저장성공=1개
2025-11-28T10:00:00.866+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 반환 채널: channelId=UC8ESbe4JwWS7IYf-317mdmQ, name=댓글테스트!, deletedAt=null
2025-11-28T10:00:00.866+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.866+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.867+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c9fa4ff]
2025-11-28T10:00:00.870+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 채널 정보 동기화 완료 - userId=12, channelId=UC8ESbe4JwWS7IYf-317mdmQ (구독자 수 등 업데이트됨)
2025-11-28T10:00:00.872+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:00.873+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:00.873+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727744586 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:00:00.874+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:00.874+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 12(Integer)
2025-11-28T10:00:00.876+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:00.877+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:00.877+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b] from current transaction
2025-11-28T10:00:00.878+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByYoutubeChannelId       : ==>  Preparing: SELECT * FROM youtube_channels WHERE youtube_channel_id = ? AND (deleted_at IS NULL)
2025-11-28T10:00:00.878+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByYoutubeChannelId       : ==> Parameters: UC8ESbe4JwWS7IYf-317mdmQ(String)
2025-11-28T10:00:00.880+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByYoutubeChannelId       : <==      Total: 1
2025-11-28T10:00:00.880+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:00.881+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b] from current transaction
2025-11-28T10:00:00.881+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : ==>  Preparing: UPDATE youtube_channels SET last_synced_at = ?, last_video_published_at = ?, updated_at = NOW() WHERE youtube_channel_id = ?
2025-11-28T10:00:00.882+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : ==> Parameters: 2025-11-28T10:00:01(LocalDateTime), 2025-11-05T02:30:03(LocalDateTime), UC8ESbe4JwWS7IYf-317mdmQ(String)
2025-11-28T10:00:00.886+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : <==    Updates: 1
2025-11-28T10:00:00.886+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:00.887+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : [YouTube] 영상 동기화 시작: userId=12, channelId=UC8ESbe4JwWS7IYf-317mdmQ, mode=FOLLOW_UP, skipComment=true, maxResults=null, cap=50
2025-11-28T10:00:00.891+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeDataApiClient     : ? API 키 rotation 시작: totalKeys=13, startIndex=0
2025-11-28T10:00:00.891+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeDataApiClient     : ? API 키 시도 중: index=0/12, key=AIzaSyBvaO...
2025-11-28T10:00:01.318+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeDataApiClient     : ? API 키 사용 성공: index=0, key=AIzaSyBvaO...
2025-11-28T10:00:01.319+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b] from current transaction
2025-11-28T10:00:01.319+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : ==> Parameters: 2025-11-28T10:00:01.319282500(LocalDateTime), 2025-11-05T02:30:03(LocalDateTime), UC8ESbe4JwWS7IYf-317mdmQ(String)
2025-11-28T10:00:01.321+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : <==    Updates: 1
2025-11-28T10:00:01.322+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:01.322+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:01.323+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:01.324+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6387132b]
2025-11-28T10:00:01.328+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 동기화 성공 - userId=12, channelId=UC8ESbe4JwWS7IYf-317mdmQ, 새 영상=0개
2025-11-28T10:00:01.329+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:01.329+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ea3edd] was not registered for synchronization because synchronization is not active
2025-11-28T10:00:01.330+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057343385 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T10:00:01.330+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByChannelId              : ==>  Preparing: SELECT * FROM youtube_videos WHERE channel_id = ? ORDER BY published_at DESC
2025-11-28T10:00:01.331+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByChannelId              : ==> Parameters: 3(Integer)
2025-11-28T10:00:01.332+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByChannelId              : <==      Total: 1
2025-11-28T10:00:01.333+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ea3edd]
2025-11-28T10:00:01.335+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 댓글 동기화 대상 선정: userId=12, channelId=UC8ESbe4JwWS7IYf-317mdmQ, 대상=1개 (신규=0 + Top5=1, 중복제거됨)
2025-11-28T10:00:01.336+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : 증분 Redis 동기화 시작: userId=12, 비디오 개수=1
2025-11-28T10:00:01.337+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:01.337+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.338+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070869479 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:00:01.338+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:01.339+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 12(Integer)
2025-11-28T10:00:01.341+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:01.341+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.342+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeVideoServiceImpl      : ? 비디오 메타데이터 조회 시작 (API 키 사용): userId=12, videoCount=1
2025-11-28T10:00:01.342+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeDataApiClient     : ? API 키 rotation 시작: totalKeys=13, startIndex=1
2025-11-28T10:00:01.343+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeDataApiClient     : ? API 키 시도 중: index=1/12, key=AIzaSyA5HB...
2025-11-28T10:00:01.469+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.service.YoutubeDataApiClient     : ? API 키 사용 성공: index=1, key=AIzaSyA5HB...
2025-11-28T10:00:01.469+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeVideoServiceImpl      : ? 비디오 메타데이터 조회 성공 (API 키): userId=12, videoCount=1
2025-11-28T10:00:01.476+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeVideoServiceImpl      : 비디오 zpquTZwbmNA 메타데이터 저장 실패

org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1866) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1797) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1594) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1574) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1535) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1571) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1257) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1063) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.DefaultValueOperations.set(DefaultValueOperations.java:200) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at com.medi.backend.youtube.redis.service.YoutubeVideoServiceImpl.saveVideoMetadataToRedis(YoutubeVideoServiceImpl.java:551) ~[main/:na]
	at com.medi.backend.youtube.redis.service.YoutubeVideoServiceImpl.syncVideoMetadata(YoutubeVideoServiceImpl.java:458) ~[main/:na]
	at com.medi.backend.youtube.redis.service.YoutubeRedisSyncServiceImpl.syncIncrementalToRedis(YoutubeRedisSyncServiceImpl.java:309) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.youtube.redis.service.YoutubeRedisSyncServiceImpl$$SpringCGLIB$$0.syncIncrementalToRedis(<generated>) ~[main/:na]
	at com.medi.backend.youtube.scheduler.YoutubeSyncScheduler.syncAllChannelsDaily(YoutubeSyncScheduler.java:162) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.4.jar:1.15.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.11.jar:6.2.11]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:220) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1795) ~[spring-data-redis-3.5.4.jar:3.5.4]
	... 46 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-11-28T10:00:01.483+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeVideoServiceImpl      : 비디오 메타데이터 동기화 완료: userId=12, 비디오=1개
2025-11-28T10:00:01.484+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : 비디오 메타데이터 저장 성공: userId=12, videoCount=1개
2025-11-28T10:00:01.484+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7] from current transaction
2025-11-28T10:00:01.485+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.488+09:00  WARN 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeCommentServiceImpl    : 커서 값을 파싱할 수 없습니다. key=video:zpquTZwbmNA:last_sync_time, error=Unable to connect to Redis
2025-11-28T10:00:01.489+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7] from current transaction
2025-11-28T10:00:01.489+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByVideoId                : ==>  Preparing: SELECT video_id, last_sync_time, updated_at FROM youtube_comment_sync_cursor WHERE video_id = ?
2025-11-28T10:00:01.490+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByVideoId                : ==> Parameters: zpquTZwbmNA(String)
2025-11-28T10:00:01.493+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByVideoId                : <==      Total: 0
2025-11-28T10:00:01.494+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.495+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeCommentServiceImpl    : 커서가 없어 기본값 사용: videoId=zpquTZwbmNA, fallback=2025-10-29T10:00:01.495056300
2025-11-28T10:00:01.498+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeCommentServiceImpl    : 영상 zpquTZwbmNA의 댓글 조회 실패: Unable to connect to Redis
2025-11-28T10:00:01.499+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeCommentServiceImpl    : 비디오 댓글 동기화 완료: userId=12, 비디오=1개, 총 댓글 수=0
2025-11-28T10:00:01.499+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : 댓글 동기화 성공: userId=12, 댓글=0개
2025-11-28T10:00:01.499+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? channelId별 그룹화 시작: userId=12, videoIds=1개
2025-11-28T10:00:01.500+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? channelId별 그룹화 시작: videoIds=1개
2025-11-28T10:00:01.502+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? 비디오 zpquTZwbmNA의 channelId 추출 실패

org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1866) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1797) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1594) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.lambda$getConnection$0(LettuceConnectionFactory.java:1574) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.doInLock(LettuceConnectionFactory.java:1535) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1571) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1257) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:1063) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:195) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:400) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:380) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:117) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:50) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at com.medi.backend.youtube.redis.service.YoutubeRedisSyncServiceImpl.groupVideoIdsByChannel(YoutubeRedisSyncServiceImpl.java:461) ~[main/:na]
	at com.medi.backend.youtube.redis.service.YoutubeRedisSyncServiceImpl.syncIncrementalToRedis(YoutubeRedisSyncServiceImpl.java:338) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.youtube.redis.service.YoutubeRedisSyncServiceImpl$$SpringCGLIB$$0.syncIncrementalToRedis(<generated>) ~[main/:na]
	at com.medi.backend.youtube.scheduler.YoutubeSyncScheduler.syncAllChannelsDaily(YoutubeSyncScheduler.java:162) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.4.jar:1.15.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.11.jar:6.2.11]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:63) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:41) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:354) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at io.lettuce.core.RedisClient.connect(RedisClient.java:220) ~[lettuce-core-6.6.0.RELEASE.jar:6.6.0.RELEASE/643bd47]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112) ~[spring-data-redis-3.5.4.jar:3.5.4]
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1795) ~[spring-data-redis-3.5.4.jar:3.5.4]
	... 45 common frames omitted
Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: getsockopt: localhost/127.0.0.1:6379
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:784) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.127.Final.jar:4.1.127.Final]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-11-28T10:00:01.508+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? channelId별 그룹화 완료: 0개 채널, 성공=0개, 실패=1개
2025-11-28T10:00:01.509+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? 모든 비디오의 channelId 추출 실패! 작업 큐에 추가되지 않습니다. videoIds=[zpquTZwbmNA]
2025-11-28T10:00:01.509+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? 작업 큐 추가 시작: userId=12, channelCount=0개
2025-11-28T10:00:01.510+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? 작업 큐 추가 완료: userId=12, enqueuedCount=0개 채널
2025-11-28T10:00:01.510+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : ? channelId별 그룹화 결과가 비어있습니다! 작업 큐에 추가되지 않았습니다. userId=12, videoIds=1개
2025-11-28T10:00:01.511+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.r.s.YoutubeRedisSyncServiceImpl  : 증분 Redis 동기화 완료: userId=12, 비디오=1개, 댓글=0개, 채널=0개, 메타성공=true, 댓글성공=true, 큐추가=false
2025-11-28T10:00:01.511+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.512+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.512+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@473b63c7]
2025-11-28T10:00:01.513+09:00  WARN 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 댓글 동기화 부분 실패: userId=12, 비디오=1개, 댓글=0개, 채널=0개, error=null
2025-11-28T10:00:01.514+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : ? [YouTube] 작업 큐에 추가되지 않았습니다! userId=12, channelId=UC8ESbe4JwWS7IYf-317mdmQ, videoIds=1개
2025-11-28T10:00:11.524+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:11.525+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb1f665] was not registered for synchronization because synchronization is not active
2025-11-28T10:00:11.528+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129863141 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will not be managed by Spring
2025-11-28T10:00:11.530+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:11.532+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 1(Integer)
2025-11-28T10:00:11.537+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:11.540+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb1f665]
2025-11-28T10:00:11.542+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? [트랜잭션 시작] 채널 동기화 시작: userId=1, syncVideosEveryTime=false
2025-11-28T10:00:11.542+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:11.542+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.543+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120047850 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:00:11.543+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:11.544+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 1(Integer)
2025-11-28T10:00:11.546+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:11.546+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.546+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? OAuth 토큰 조회 성공: userId=1, tokenId=2
2025-11-28T10:00:11.547+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be] from current transaction
2025-11-28T10:00:11.547+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserIdIncludingDeleted : ==>  Preparing: SELECT * FROM youtube_channels WHERE user_id = ? ORDER BY created_at DESC
2025-11-28T10:00:11.547+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserIdIncludingDeleted : ==> Parameters: 1(Integer)
2025-11-28T10:00:11.548+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserIdIncludingDeleted : <==      Total: 1
2025-11-28T10:00:11.549+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.549+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 기존 채널 조회 (삭제된 것 포함): userId=1, 기존채널수=1개
2025-11-28T10:00:11.549+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 기존 채널 매핑: channelId=UCSe8ABLP0nCsEAvaQYm6GcA, name=문산휘, deletedAt=null
2025-11-28T10:00:11.549+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be] from current transaction
2025-11-28T10:00:11.550+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.751+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.service.YoutubeOAuthService      : Access token 갱신 실패: userId=1, error=400 Bad Request
POST https://oauth2.googleapis.com/token
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}

com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request
POST https://oauth2.googleapis.com/token
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}
	at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.googleapis.auth.oauth2.GoogleRefreshTokenRequest.execute(GoogleRefreshTokenRequest.java:126) ~[google-api-client-2.2.0.jar:2.2.0]
	at com.medi.backend.youtube.service.YoutubeOAuthService.getValidAccessToken(YoutubeOAuthService.java:150) ~[main/:na]
	at com.medi.backend.youtube.service.YoutubeService.syncChannels(YoutubeService.java:122) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.youtube.service.YoutubeService$$SpringCGLIB$$0.syncChannels(<generated>) ~[main/:na]
	at com.medi.backend.youtube.scheduler.YoutubeSyncScheduler.syncAllChannelsDaily(YoutubeSyncScheduler.java:109) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.4.jar:1.15.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.11.jar:6.2.11]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-11-28T10:00:11.757+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be] from current transaction
2025-11-28T10:00:11.757+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateTokenStatus            : ==>  Preparing: UPDATE youtube_oauth_tokens SET token_status = ?, updated_at = NOW() WHERE id = ?
2025-11-28T10:00:11.758+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateTokenStatus            : ==> Parameters: EXPIRED(String), 2(Integer)
2025-11-28T10:00:11.760+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateTokenStatus            : <==    Updates: 1
2025-11-28T10:00:11.760+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.760+09:00  WARN 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ?? OAuth 토큰 만료/없음 - 기존 DB 채널 정보 반환: userId=1, error=Refresh token expired, reconnect required
2025-11-28T10:00:11.761+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be] from current transaction
2025-11-28T10:00:11.761+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_channels WHERE user_id = ? AND (deleted_at IS NULL) ORDER BY created_at DESC
2025-11-28T10:00:11.762+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 1(Integer)
2025-11-28T10:00:11.763+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:11.763+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.764+09:00  INFO 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : ? 기존 DB 채널 정보 반환: userId=1, 채널=1개
2025-11-28T10:00:11.764+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.764+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.765+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbba0be]
2025-11-28T10:00:11.769+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 채널 정보 동기화 완료 - userId=1, channelId=UCSe8ABLP0nCsEAvaQYm6GcA (구독자 수 등 업데이트됨)
2025-11-28T10:00:11.770+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:00:11.770+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.771+09:00 DEBUG 8912 --- [scheduling-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875909630 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:00:11.771+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==>  Preparing: SELECT * FROM youtube_oauth_tokens WHERE user_id = ? ORDER BY created_at DESC LIMIT 1
2025-11-28T10:00:11.772+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : ==> Parameters: 1(Integer)
2025-11-28T10:00:11.773+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByUserId                 : <==      Total: 1
2025-11-28T10:00:11.773+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.976+09:00 ERROR 8912 --- [scheduling-1] c.m.b.y.service.YoutubeOAuthService      : Access token 갱신 실패: userId=1, error=400 Bad Request
POST https://oauth2.googleapis.com/token
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}

com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request
POST https://oauth2.googleapis.com/token
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}
	at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.googleapis.auth.oauth2.GoogleRefreshTokenRequest.execute(GoogleRefreshTokenRequest.java:126) ~[google-api-client-2.2.0.jar:2.2.0]
	at com.medi.backend.youtube.service.YoutubeOAuthService.getValidAccessToken(YoutubeOAuthService.java:150) ~[main/:na]
	at com.medi.backend.youtube.service.YoutubeService.syncVideos(YoutubeService.java:384) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.youtube.service.YoutubeService$$SpringCGLIB$$0.syncVideos(<generated>) ~[main/:na]
	at com.medi.backend.youtube.scheduler.YoutubeSyncScheduler.syncAllChannelsDaily(YoutubeSyncScheduler.java:120) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.4.jar:1.15.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.11.jar:6.2.11]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-11-28T10:00:11.981+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66] from current transaction
2025-11-28T10:00:11.981+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateTokenStatus            : ==>  Preparing: UPDATE youtube_oauth_tokens SET token_status = ?, updated_at = NOW() WHERE id = ?
2025-11-28T10:00:11.982+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateTokenStatus            : ==> Parameters: EXPIRED(String), 2(Integer)
2025-11-28T10:00:11.983+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateTokenStatus            : <==    Updates: 1
2025-11-28T10:00:11.984+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.984+09:00 ERROR 8912 --- [scheduling-1] c.m.b.youtube.service.YoutubeService     : YouTube 영상 동기화 실패: channelId=UCSe8ABLP0nCsEAvaQYm6GcA

java.lang.RuntimeException: Refresh token expired, reconnect required
	at com.medi.backend.youtube.service.YoutubeOAuthService.getValidAccessToken(YoutubeOAuthService.java:166) ~[main/:na]
	at com.medi.backend.youtube.service.YoutubeService.syncVideos(YoutubeService.java:384) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.youtube.service.YoutubeService$$SpringCGLIB$$0.syncVideos(<generated>) ~[main/:na]
	at com.medi.backend.youtube.scheduler.YoutubeSyncScheduler.syncAllChannelsDaily(YoutubeSyncScheduler.java:120) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.4.jar:1.15.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.11.jar:6.2.11]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request
POST https://oauth2.googleapis.com/token
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}
	at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.googleapis.auth.oauth2.GoogleRefreshTokenRequest.execute(GoogleRefreshTokenRequest.java:126) ~[google-api-client-2.2.0.jar:2.2.0]
	at com.medi.backend.youtube.service.YoutubeOAuthService.getValidAccessToken(YoutubeOAuthService.java:150) ~[main/:na]
	... 31 common frames omitted

2025-11-28T10:00:11.988+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66] from current transaction
2025-11-28T10:00:11.988+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByYoutubeChannelId       : ==>  Preparing: SELECT * FROM youtube_channels WHERE youtube_channel_id = ? AND (deleted_at IS NULL)
2025-11-28T10:00:11.989+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByYoutubeChannelId       : ==> Parameters: UCSe8ABLP0nCsEAvaQYm6GcA(String)
2025-11-28T10:00:11.991+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.findByYoutubeChannelId       : <==      Total: 1
2025-11-28T10:00:11.991+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.991+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66] from current transaction
2025-11-28T10:00:11.992+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : ==>  Preparing: UPDATE youtube_channels SET last_synced_at = ?, last_video_published_at = ?, updated_at = NOW() WHERE youtube_channel_id = ?
2025-11-28T10:00:11.992+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : ==> Parameters: 2025-11-07T18:09:02(LocalDateTime), null, UCSe8ABLP0nCsEAvaQYm6GcA(String)
2025-11-28T10:00:11.994+09:00 DEBUG 8912 --- [scheduling-1] c.m.b.y.m.Y.updateSyncState              : <==    Updates: 1
2025-11-28T10:00:11.994+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.994+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.994+09:00 DEBUG 8912 --- [scheduling-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ae3a66]
2025-11-28T10:00:11.998+09:00  WARN 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 동기화 실패 - userId=1, channelId=UCSe8ABLP0nCsEAvaQYm6GcA, message=syncVideos failed

java.lang.RuntimeException: syncVideos failed
	at com.medi.backend.youtube.service.YoutubeService.syncVideos(YoutubeService.java:478) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.youtube.service.YoutubeService$$SpringCGLIB$$0.syncVideos(<generated>) ~[main/:na]
	at com.medi.backend.youtube.scheduler.YoutubeSyncScheduler.syncAllChannelsDaily(YoutubeSyncScheduler.java:120) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.4.jar:1.15.4]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.config.Task$OutcomeTrackingRunnable.run(Task.java:85) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.2.11.jar:6.2.11]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.RuntimeException: Refresh token expired, reconnect required
	at com.medi.backend.youtube.service.YoutubeOAuthService.getValidAccessToken(YoutubeOAuthService.java:166) ~[main/:na]
	at com.medi.backend.youtube.service.YoutubeService.syncVideos(YoutubeService.java:384) ~[main/:na]
	... 30 common frames omitted
Caused by: com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request
POST https://oauth2.googleapis.com/token
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}
	at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308) ~[google-oauth-client-1.34.1.jar:1.34.1]
	at com.google.api.client.googleapis.auth.oauth2.GoogleRefreshTokenRequest.execute(GoogleRefreshTokenRequest.java:126) ~[google-api-client-2.2.0.jar:2.2.0]
	at com.medi.backend.youtube.service.YoutubeOAuthService.getValidAccessToken(YoutubeOAuthService.java:150) ~[main/:na]
	... 31 common frames omitted

2025-11-28T10:00:22.012+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : [YouTube] 스케줄링 동기화 종료 - 성공: 1, 스킵: 1, 실패: 1
2025-11-28T10:00:22.012+09:00  INFO 8912 --- [scheduling-1] c.m.b.y.scheduler.YoutubeSyncScheduler   : ? [스케줄러] 완료 후 메모리 상태: 사용률=1.78%, 사용=72MB, 최대=4038MB
2025-11-28T10:01:10.625+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:01:10.625+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:01:10.626+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:01:10.627+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:01:10.637+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:01:10.638+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.638+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833977491 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:01:10.638+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:01:10.639+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:01:10.642+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:01:10.642+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.643+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.643+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:01:10.644+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug1(String), 필터링 댓글 1(String), 사용자1(String), 2024-12-19T10:00:00.000Z(String), 0(Long)
2025-11-28T10:01:10.648+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:01:10.648+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.648+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug1
2025-11-28T10:01:10.648+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.649+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:01:10.649+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug1(String)
2025-11-28T10:01:10.651+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:01:10.652+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.652+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=1, youtubeCommentId=Ug1
2025-11-28T10:01:10.652+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.655+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:01:10.656+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 1(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:01:10.694+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.827+09:00 ERROR 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Failed to save comment: videoId=10, commentId=Ug1, status=filtered

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO ai_comment_analysis_result (             youtube_comment_id,             status,             reason,             analyzed_at,             harmfulness_level,             detection_source         ) VALUES (             ?,             ?,                                   ?                  ,                                   STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f')                  ,             'MEDIUM',             'AI_MODEL'         )         ON DUPLICATE KEY UPDATE             status = VALUES(status),             reason = VALUES(reason),             analyzed_at = VALUES(analyzed_at),             updated_at = NOW()
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertCommentAnalysisResult(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.processComment(AgentServiceImpl.java:332) ~[main/:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:83) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 178 common frames omitted

2025-11-28T10:01:10.850+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.851+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug2(String), 필터링 댓글 2(String), 사용자2(String), 2024-12-19T10:05:00.000Z(String), 0(Long)
2025-11-28T10:01:10.853+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:01:10.854+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.854+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug2
2025-11-28T10:01:10.855+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.855+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug2(String)
2025-11-28T10:01:10.857+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:01:10.857+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.857+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=2, youtubeCommentId=Ug2
2025-11-28T10:01:10.858+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.859+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 2(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:01:10.861+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.862+09:00 ERROR 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Failed to save comment: videoId=10, commentId=Ug2, status=filtered

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertCommentAnalysisResult(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.processComment(AgentServiceImpl.java:332) ~[main/:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:83) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 178 common frames omitted

2025-11-28T10:01:10.888+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.889+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:01:10.891+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:01:10.893+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.893+09:00 ERROR 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Failed to save analysis summary: videoId=TEST_VIDEO_12345

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO ai_analysis_summary (             video_id,             youtube_video_id,             youtube_channel_id,             neutral_count,             filtered_count,             suggestion_count,             risk_summary,             analysis_timestamp         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,                                   STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f')                           )         ON DUPLICATE KEY UPDATE             neutral_count = VALUES(neutral_count),             filtered_count = VALUES(filtered_count),             suggestion_count = VALUES(suggestion_count),             risk_summary = VALUES(risk_summary),             analysis_timestamp = VALUES(analysis_timestamp),             updated_at = NOW()
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertAnalysisSummary(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:97) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:00:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 177 common frames omitted

2025-11-28T10:01:10.913+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.914+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:01:10.915+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:01:10.917+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:01:10.917+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.918+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.919+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:01:10.920+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:01:10.923+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 1
2025-11-28T10:01:10.923+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.923+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:01:10.924+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.924+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:01:10.924+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:01:10.928+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:01:10.929+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.929+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:01:10.930+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.930+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:01:10.931+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:01:10.933+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:01:10.934+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.934+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:01:10.935+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:01:10.935+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.935+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:01:10.936+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:01:10.939+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:01:10.939+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.940+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0] from current transaction
2025-11-28T10:01:10.941+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:01:10.942+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:01:10.949+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:01:10.950+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.951+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=0, threshold=5
2025-11-28T10:01:10.952+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=0, threshold=5, userId=11, channelId=6
2025-11-28T10:01:10.953+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.953+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.954+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f3812e0]
2025-11-28T10:01:10.964+09:00 DEBUG 8912 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:01:15.219+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:01:15.219+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:01:15.220+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:01:15.221+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:01:15.223+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:01:15.224+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.224+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@984177361 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:01:15.224+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:01:15.225+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:01:15.226+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:01:15.227+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.227+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.228+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:01:15.229+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug3(String), 필터링 댓글 3(String), 사용자3(String), 2024-12-19T10:10:00.000Z(String), 0(Long)
2025-11-28T10:01:15.231+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:01:15.231+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.232+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug3
2025-11-28T10:01:15.233+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.233+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:01:15.234+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug3(String)
2025-11-28T10:01:15.235+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:01:15.235+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.235+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=3, youtubeCommentId=Ug3
2025-11-28T10:01:15.236+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.236+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:01:15.237+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 3(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:01:15.238+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.238+09:00 ERROR 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Failed to save comment: videoId=10, commentId=Ug3, status=filtered

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO ai_comment_analysis_result (             youtube_comment_id,             status,             reason,             analyzed_at,             harmfulness_level,             detection_source         ) VALUES (             ?,             ?,                                   ?                  ,                                   STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f')                  ,             'MEDIUM',             'AI_MODEL'         )         ON DUPLICATE KEY UPDATE             status = VALUES(status),             reason = VALUES(reason),             analyzed_at = VALUES(analyzed_at),             updated_at = NOW()
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertCommentAnalysisResult(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.processComment(AgentServiceImpl.java:332) ~[main/:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:83) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 178 common frames omitted

2025-11-28T10:01:15.256+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.256+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug4(String), 필터링 댓글 4(String), 사용자4(String), 2024-12-19T10:15:00.000Z(String), 0(Long)
2025-11-28T10:01:15.258+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:01:15.258+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.258+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug4
2025-11-28T10:01:15.259+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.259+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug4(String)
2025-11-28T10:01:15.260+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:01:15.260+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.260+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=4, youtubeCommentId=Ug4
2025-11-28T10:01:15.261+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.261+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 4(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:01:15.263+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.268+09:00 ERROR 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Failed to save comment: videoId=10, commentId=Ug4, status=filtered

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertCommentAnalysisResult(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.processComment(AgentServiceImpl.java:332) ~[main/:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:83) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 178 common frames omitted

2025-11-28T10:01:15.301+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.303+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:01:15.305+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), null, 2(Integer), null, null, 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:01:15.309+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.310+09:00 ERROR 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Failed to save analysis summary: videoId=TEST_VIDEO_12345

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO ai_analysis_summary (             video_id,             youtube_video_id,             youtube_channel_id,             neutral_count,             filtered_count,             suggestion_count,             risk_summary,             analysis_timestamp         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,                                   STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f')                           )         ON DUPLICATE KEY UPDATE             neutral_count = VALUES(neutral_count),             filtered_count = VALUES(filtered_count),             suggestion_count = VALUES(suggestion_count),             risk_summary = VALUES(risk_summary),             analysis_timestamp = VALUES(analysis_timestamp),             updated_at = NOW()
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertAnalysisSummary(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:97) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:10:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 177 common frames omitted

2025-11-28T10:01:15.347+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.347+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:01:15.348+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:01:15.350+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:01:15.351+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.352+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.353+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:01:15.354+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:01:15.358+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:01:15.360+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.362+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:01:15.363+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.364+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:01:15.364+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:01:15.366+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:01:15.367+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.368+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:01:15.368+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.369+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:01:15.370+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:01:15.371+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:01:15.372+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.372+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:01:15.372+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:01:15.373+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.374+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:01:15.375+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:01:15.378+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:01:15.378+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.379+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea] from current transaction
2025-11-28T10:01:15.379+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:01:15.380+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:01:15.382+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:01:15.383+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.383+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=0, threshold=5
2025-11-28T10:01:15.384+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=0, threshold=5, userId=11, channelId=6
2025-11-28T10:01:15.384+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.385+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.386+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b9450ea]
2025-11-28T10:01:15.397+09:00 DEBUG 8912 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:01:19.338+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:01:19.339+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:01:19.339+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@37f5fc84, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:01:19.340+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:01:19.342+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:01:19.343+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.343+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283105579 wrapping com.mysql.cj.jdbc.ConnectionImpl@34eb6a7f] will be managed by Spring
2025-11-28T10:01:19.343+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:01:19.344+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:01:19.344+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:01:19.345+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.345+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.346+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:01:19.346+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug5(String), 필터링 댓글 5(String), 사용자5(String), 2024-12-19T10:10:00.000Z(String), 0(Long)
2025-11-28T10:01:19.348+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:01:19.349+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.349+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug5
2025-11-28T10:01:19.349+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.349+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:01:19.350+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug5(String)
2025-11-28T10:01:19.351+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:01:19.351+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.352+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=5, youtubeCommentId=Ug5
2025-11-28T10:01:19.352+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.352+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:01:19.353+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 5(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:01:19.354+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.355+09:00 ERROR 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : Failed to save comment: videoId=10, commentId=Ug5, status=filtered

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO ai_comment_analysis_result (             youtube_comment_id,             status,             reason,             analyzed_at,             harmfulness_level,             detection_source         ) VALUES (             ?,             ?,                                   ?                  ,                                   STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f')                  ,             'MEDIUM',             'AI_MODEL'         )         ON DUPLICATE KEY UPDATE             status = VALUES(status),             reason = VALUES(reason),             analyzed_at = VALUES(analyzed_at),             updated_at = NOW()
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertCommentAnalysisResult(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.processComment(AgentServiceImpl.java:332) ~[main/:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:83) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.internal.reflect.GeneratedMethodAccessor32.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 178 common frames omitted

2025-11-28T10:01:19.375+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.375+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug6(String), 필터링 댓글 6(String), 사용자6(String), 2024-12-19T10:10:00.000Z(String), 0(Long)
2025-11-28T10:01:19.377+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:01:19.377+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.377+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug6
2025-11-28T10:01:19.378+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.378+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug6(String)
2025-11-28T10:01:19.379+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:01:19.379+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.379+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=6, youtubeCommentId=Ug6
2025-11-28T10:01:19.380+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.380+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 6(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:01:19.383+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.383+09:00 ERROR 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : Failed to save comment: videoId=10, commentId=Ug6, status=filtered

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertCommentAnalysisResult(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.processComment(AgentServiceImpl.java:332) ~[main/:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:83) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.internal.reflect.GeneratedMethodAccessor32.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 178 common frames omitted

2025-11-28T10:01:19.406+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.407+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:01:19.408+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), null, 2(Integer), null, null, 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:01:19.412+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.413+09:00 ERROR 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : Failed to save analysis summary: videoId=TEST_VIDEO_12345

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
### The error may exist in file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: INSERT INTO ai_analysis_summary (             video_id,             youtube_video_id,             youtube_channel_id,             neutral_count,             filtered_count,             suggestion_count,             risk_summary,             analysis_timestamp         ) VALUES (             ?,             ?,             ?,             ?,             ?,             ?,             ?,                                   STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%f')                           )         ON DUPLICATE KEY UPDATE             neutral_count = VALUES(neutral_count),             filtered_count = VALUES(filtered_count),             suggestion_count = VALUES(suggestion_count),             risk_summary = VALUES(risk_summary),             analysis_timestamp = VALUES(analysis_timestamp),             updated_at = NOW()
### Cause: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
; Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:120) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.2.11.jar:6.2.11]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy128.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy138.insertAnalysisSummary(Unknown Source) ~[na:na]
	at com.medi.backend.agent.service.AgentServiceImpl.insertFilteredComment(AgentServiceImpl.java:97) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.service.AgentServiceImpl$$SpringCGLIB$$0.insertFilteredComment(<generated>) ~[main/:na]
	at com.medi.backend.agent.controller.AgentController.receiveFilteredComments(AgentController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.11.jar:6.2.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.11.jar:6.2.11]
	at com.medi.backend.agent.controller.AgentController$$SpringCGLIB$$0.receiveFilteredComments(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.46.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:117) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.5.jar:6.5.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.11.jar:6.2.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.11.jar:6.2.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.46.jar:10.1.46]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Truncated incorrect datetime value: '2024-12-19T15:30:00.000Z'
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.4.0.jar:9.4.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy4/jdk.proxy4.$Proxy180.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:52) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.internal.reflect.GeneratedMethodAccessor32.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 177 common frames omitted

2025-11-28T10:01:19.441+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.442+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:01:19.442+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:01:19.444+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:01:19.445+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.445+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.446+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:01:19.446+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:01:19.447+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:01:19.448+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.448+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:01:19.448+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.448+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:01:19.449+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:01:19.451+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:01:19.452+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.452+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:01:19.452+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.453+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:01:19.454+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:01:19.456+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:01:19.456+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.456+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:01:19.457+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:01:19.457+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.458+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:01:19.459+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:01:19.461+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:01:19.462+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.462+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910] from current transaction
2025-11-28T10:01:19.463+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:01:19.464+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:01:19.466+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:01:19.466+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.467+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=0, threshold=5
2025-11-28T10:01:19.467+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=0, threshold=5, userId=11, channelId=6
2025-11-28T10:01:19.467+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.467+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.468+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d47a910]
2025-11-28T10:01:19.474+09:00 DEBUG 8912 --- [http-nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:14:30.477+09:00  INFO 10632 --- [restartedMain] com.medi.backend.BackendApplication      : Starting BackendApplication using Java 17.0.15 with PID 10632 (C:\medi\backend\build\classes\java\main started by USER in C:\medi\backend)
2025-11-28T10:14:30.487+09:00 DEBUG 10632 --- [restartedMain] com.medi.backend.BackendApplication      : Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-28T10:14:30.494+09:00  INFO 10632 --- [restartedMain] com.medi.backend.BackendApplication      : No active profile set, falling back to 1 default profile: "default"
2025-11-28T10:14:30.629+09:00  INFO 10632 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-28T10:14:30.632+09:00  INFO 10632 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-28T10:14:33.729+09:00 DEBUG 10632 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-11-28T10:14:33.730+09:00 DEBUG 10632 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.medi.backend'
2025-11-28T10:14:34.718+09:00  INFO 10632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-28T10:14:34.727+09:00  INFO 10632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-28T10:14:34.818+09:00  INFO 10632 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 0 Redis repository interfaces.
2025-11-28T10:14:35.094+09:00 DEBUG 10632 --- [restartedMain] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-11-28T10:14:35.127+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\admin\mapper\AdminMapper.class]
2025-11-28T10:14:35.129+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\agent\mapper\AgentMapper.class]
2025-11-28T10:14:35.130+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\auth\mapper\AuthMapper.class]
2025-11-28T10:14:35.131+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\billing\mapper\BillingMapper.class]
2025-11-28T10:14:35.132+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\filter\mapper\FilterMapper.class]
2025-11-28T10:14:35.133+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\userdashboard\mapper\UserDashboardMapper.class]
2025-11-28T10:14:35.133+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\user\mapper\UserMapper.class]
2025-11-28T10:14:35.134+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\ChannelMapper.class]
2025-11-28T10:14:35.135+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\VideoMapper.class]
2025-11-28T10:14:35.136+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeChannelMapper.class]
2025-11-28T10:14:35.136+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeCommentSyncCursorMapper.class]
2025-11-28T10:14:35.137+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeOAuthTokenMapper.class]
2025-11-28T10:14:35.139+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeSyncStatusMapper.class]
2025-11-28T10:14:35.141+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeVideoMapper.class]
2025-11-28T10:14:35.145+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'adminMapper' and 'com.medi.backend.admin.mapper.AdminMapper' mapperInterface
2025-11-28T10:14:35.150+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'agentMapper' and 'com.medi.backend.agent.mapper.AgentMapper' mapperInterface
2025-11-28T10:14:35.151+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'authMapper' and 'com.medi.backend.auth.mapper.AuthMapper' mapperInterface
2025-11-28T10:14:35.152+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'billingMapper' and 'com.medi.backend.billing.mapper.BillingMapper' mapperInterface
2025-11-28T10:14:35.154+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'filterMapper' and 'com.medi.backend.filter.mapper.FilterMapper' mapperInterface
2025-11-28T10:14:35.155+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userDashboardMapper' and 'com.medi.backend.userdashboard.mapper.UserDashboardMapper' mapperInterface
2025-11-28T10:14:35.158+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.medi.backend.user.mapper.UserMapper' mapperInterface
2025-11-28T10:14:35.160+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'channelMapper' and 'com.medi.backend.youtube.mapper.ChannelMapper' mapperInterface
2025-11-28T10:14:35.162+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'videoMapper' and 'com.medi.backend.youtube.mapper.VideoMapper' mapperInterface
2025-11-28T10:14:35.165+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeChannelMapper' and 'com.medi.backend.youtube.mapper.YoutubeChannelMapper' mapperInterface
2025-11-28T10:14:35.167+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeCommentSyncCursorMapper' and 'com.medi.backend.youtube.mapper.YoutubeCommentSyncCursorMapper' mapperInterface
2025-11-28T10:14:35.168+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeOAuthTokenMapper' and 'com.medi.backend.youtube.mapper.YoutubeOAuthTokenMapper' mapperInterface
2025-11-28T10:14:35.170+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeSyncStatusMapper' and 'com.medi.backend.youtube.mapper.YoutubeSyncStatusMapper' mapperInterface
2025-11-28T10:14:35.171+09:00 DEBUG 10632 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeVideoMapper' and 'com.medi.backend.youtube.mapper.YoutubeVideoMapper' mapperInterface
2025-11-28T10:14:37.104+09:00  INFO 10632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-28T10:14:37.133+09:00  INFO 10632 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-28T10:14:37.134+09:00  INFO 10632 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-28T10:14:37.236+09:00  INFO 10632 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-28T10:14:37.237+09:00  INFO 10632 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6602 ms
2025-11-28T10:14:38.243+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\admin\adminMapper.xml]'
2025-11-28T10:14:38.305+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]'
2025-11-28T10:14:38.325+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\auth\AuthMapper.xml]'
2025-11-28T10:14:38.371+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\billing\BillingMapper.xml]'
2025-11-28T10:14:38.415+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\filter\FilterMapper.xml]'
2025-11-28T10:14:38.446+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\userdashboard\UserDashboardMapper.xml]'
2025-11-28T10:14:38.468+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\user\UserMapper.xml]'
2025-11-28T10:14:38.483+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\ChannelMapper.xml]'
2025-11-28T10:14:38.499+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\VideoMapper.xml]'
2025-11-28T10:14:38.520+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeChannelMapper.xml]'
2025-11-28T10:14:38.537+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeCommentSyncCursorMapper.xml]'
2025-11-28T10:14:38.554+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeOAuthTokenMapper.xml]'
2025-11-28T10:14:38.579+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeSyncStatusMapper.xml]'
2025-11-28T10:14:38.603+09:00 DEBUG 10632 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeVideoMapper.xml]'
2025-11-28T10:14:40.151+09:00  INFO 10632 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-28T10:14:40.153+09:00  WARN 10632 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-28T10:14:41.313+09:00  INFO 10632 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Transcript Executor 빈 생성 완료: corePoolSize=2, maxPoolSize=3, queueCapacity=50
2025-11-28T10:14:41.358+09:00  INFO 10632 --- [restartedMain] c.m.b.y.r.s.YoutubeTranscriptServiceImpl : ? Transcript Executor 초기화 완료
2025-11-28T10:14:41.413+09:00  INFO 10632 --- [restartedMain] c.m.b.youtube.service.YoutubeService     : ? YoutubeRedisSyncService가 정상적으로 주입되었습니다.
2025-11-28T10:14:41.523+09:00  INFO 10632 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Redis Sync Executor 빈 생성 완료: corePoolSize=4, maxPoolSize=8, queueCapacity=50
2025-11-28T10:14:43.017+09:00  INFO 10632 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-11-28T10:14:43.732+09:00 DEBUG 10632 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextPersistenceFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-28T10:14:44.122+09:00 DEBUG 10632 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-28T10:14:45.700+09:00  INFO 10632 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-28T10:14:45.898+09:00  INFO 10632 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-28T10:14:45.943+09:00  INFO 10632 --- [restartedMain] com.medi.backend.BackendApplication      : Started BackendApplication in 17.478 seconds (process running for 19.608)
2025-11-28T10:14:45.959+09:00  INFO 10632 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp 설치 확인 시작: path=yt-dlp
2025-11-28T10:14:48.141+09:00  INFO 10632 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp가 이미 설치되어 있습니다: version=2025.11.12
2025-11-28T10:15:21.566+09:00  INFO 10632 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28T10:15:21.566+09:00  INFO 10632 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-28T10:15:21.569+09:00  INFO 10632 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-11-28T10:15:21.632+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-28T10:15:21.667+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-11-28T10:15:21.684+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-28T10:15:21.686+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id D7D76DB0499E0FF73F907B1C623E5616
2025-11-28T10:15:21.710+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-28T10:15:21.913+09:00  INFO 10632 --- [http-nio-8080-exec-2] c.m.b.auth.controller.AuthController     : 로그인 시도: aadd@medi.com
2025-11-28T10:15:22.089+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.g.s.s.CustomUserDetailsService     : 로그인 시도: aadd@medi.com
2025-11-28T10:15:22.111+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:15:22.120+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33139a45] was not registered for synchronization because synchronization is not active
2025-11-28T10:15:22.134+09:00  INFO 10632 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-28T10:15:22.589+09:00  INFO 10632 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@510f8007
2025-11-28T10:15:22.595+09:00  INFO 10632 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-28T10:15:22.603+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394007398 wrapping com.mysql.cj.jdbc.ConnectionImpl@510f8007] will not be managed by Spring
2025-11-28T10:15:22.612+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T10:15:22.675+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T10:15:22.737+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T10:15:22.747+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33139a45]
2025-11-28T10:15:22.754+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.g.s.s.CustomUserDetailsService     : 사용자 인증 정보 로드 완료: aadd@medi.com (userId: 11, 권한: ADMIN)
2025-11-28T10:15:22.878+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-28T10:15:22.956+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:15:22.957+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@906c4f9] was not registered for synchronization because synchronization is not active
2025-11-28T10:15:22.959+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132716891 wrapping com.mysql.cj.jdbc.ConnectionImpl@510f8007] will not be managed by Spring
2025-11-28T10:15:22.959+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T10:15:22.961+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T10:15:22.967+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T10:15:22.969+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@906c4f9]
2025-11-28T10:15:22.970+09:00  INFO 10632 --- [http-nio-8080-exec-2] c.m.b.auth.controller.AuthController     : 로그인 성공: aadd@medi.com (세션 ID: 6A8ADB6C86B1CB15D37E4BC5E70E74DA)
2025-11-28T10:15:23.056+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7f957599]
2025-11-28T10:15:23.062+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7f957599]
2025-11-28T10:15:23.063+09:00 DEBUG 10632 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:15:38.859+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/filter/preferences
2025-11-28T10:15:38.860+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:15:38.860+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:15:38.863+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/filter/preferences
2025-11-28T10:15:38.886+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T10:15:38.915+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T10:15:38.917+09:00  INFO 10632 --- [http-nio-8080-exec-3] c.m.b.f.controller.FilterController      : ? [필터 API] 설정 저장: userId=11, channelId=null
2025-11-28T10:15:38.949+09:00  INFO 10632 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 저장 시작: userId=11, channelId=null
2025-11-28T10:15:38.954+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:15:38.956+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:38.958+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471048811 wrapping com.mysql.cj.jdbc.ConnectionImpl@510f8007] will be managed by Spring
2025-11-28T10:15:38.959+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==>  Preparing: INSERT INTO user_filter_preferences (user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, TRUE), NOW(), NOW()) ON DUPLICATE KEY UPDATE selected_categories = VALUES(selected_categories), custom_rule_keywords = VALUES(custom_rule_keywords), dislike_examples = VALUES(dislike_examples), allow_examples = VALUES(allow_examples), email_notification_settings = VALUES(email_notification_settings), is_active = VALUES(is_active), updated_at = NOW()
2025-11-28T10:15:38.986+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==> Parameters: 11(Integer), null, ["profanity"](String), {}(String), ["예시1","예시2","예시3"](String), [](String), {"enabled":true,"timeUnit":"HOURLY","threshold":5,"email":"heomin00518@naver.com"}(String), true(Boolean)
2025-11-28T10:15:38.999+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : <==    Updates: 1
2025-11-28T10:15:39.008+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:39.010+09:00  INFO 10632 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] DB 저장 완료: id=2, userId=11, channelId=null
2025-11-28T10:15:39.011+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 시작: userId=11, channelId=null
2025-11-28T10:15:39.013+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24] from current transaction
2025-11-28T10:15:39.055+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:15:39.057+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:15:39.068+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:15:39.070+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:39.072+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24] from current transaction
2025-11-28T10:15:39.074+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==>  Preparing: SELECT id, category_id, comment_text, suggested_label, difficulty_level, usage_count, is_active FROM filter_example_comments WHERE is_active = TRUE AND category_id = ? ORDER BY FIELD(suggested_label, 'block', 'allow'), -- block 먼저, allow 나중 FIELD(difficulty_level, 'EASY', 'MEDIUM', 'HARD'), -- 난이도 순 RAND() -- 랜덤 LIMIT ?
2025-11-28T10:15:39.075+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==> Parameters: profanity(String), 10(Integer)
2025-11-28T10:15:39.084+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : <==      Total: 10
2025-11-28T10:15:39.084+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:39.087+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 완료 (JSON): 길이=683자, 카테고리=1개, Few-shot=1개
2025-11-28T10:15:39.773+09:00  INFO 10632 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [Redis 저장] 완료: key=user:11:form:global, length=683자
2025-11-28T10:15:39.776+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:39.777+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:39.778+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28a7ea24]
2025-11-28T10:15:39.805+09:00 DEBUG 10632 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:15:53.876+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:15:53.876+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:15:53.877+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:15:53.878+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:15:53.915+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:15:53.916+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.917+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@810850435 wrapping com.mysql.cj.jdbc.ConnectionImpl@510f8007] will be managed by Spring
2025-11-28T10:15:53.919+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:15:53.920+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:15:53.925+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:15:53.925+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.926+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.927+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:15:53.929+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug1(String), 필터링 댓글 1(String), 사용자1(String), 2024-12-19T10:00:00.000Z(String), 0(Long)
2025-11-28T10:15:53.935+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:15:53.936+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.936+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug1
2025-11-28T10:15:53.938+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.939+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:15:53.940+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug1(String)
2025-11-28T10:15:53.942+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:15:53.943+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.944+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=1, youtubeCommentId=Ug1
2025-11-28T10:15:53.945+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.948+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:15:53.950+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 1(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:15:53.956+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:15:53.961+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.962+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Analysis result insert: result=1, commentId=1, status=filtered
2025-11-28T10:15:53.962+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.964+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug2(String), 필터링 댓글 2(String), 사용자2(String), 2024-12-19T10:05:00.000Z(String), 0(Long)
2025-11-28T10:15:53.967+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:15:53.969+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.970+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug2
2025-11-28T10:15:53.971+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.971+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug2(String)
2025-11-28T10:15:53.975+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:15:53.977+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.978+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=2, youtubeCommentId=Ug2
2025-11-28T10:15:53.978+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.979+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 2(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:15:53.984+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:15:53.984+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:53.986+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Analysis result insert: result=1, commentId=2, status=filtered
2025-11-28T10:15:53.987+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:53.991+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:15:53.994+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:15:54.002+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 1
2025-11-28T10:15:54.003+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.004+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:15:54.005+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:54.006+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:15:54.007+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:15:54.011+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:15:54.014+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.019+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:54.020+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:15:54.022+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:15:54.030+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:15:54.031+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.033+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:15:54.034+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:54.035+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:15:54.037+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:15:54.043+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:15:54.045+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.046+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:15:54.048+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:54.049+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:15:54.050+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:15:54.053+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:15:54.054+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.055+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:15:54.055+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:15:54.055+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:54.056+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:15:54.057+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:15:54.062+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:15:54.063+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.065+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f] from current transaction
2025-11-28T10:15:54.066+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:15:54.069+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:15:54.074+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:15:54.075+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.076+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=2, threshold=5
2025-11-28T10:15:54.078+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=2, threshold=5, userId=11, channelId=6
2025-11-28T10:15:54.083+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.087+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.093+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@453e4c4f]
2025-11-28T10:15:54.108+09:00 DEBUG 10632 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:15:57.499+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:15:57.500+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:15:57.500+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:15:57.502+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:15:57.504+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:15:57.505+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.505+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372769557 wrapping com.mysql.cj.jdbc.ConnectionImpl@510f8007] will be managed by Spring
2025-11-28T10:15:57.506+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:15:57.507+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:15:57.509+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:15:57.510+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.511+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.511+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:15:57.512+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug3(String), 필터링 댓글 3(String), 사용자3(String), 2024-12-19T10:10:00.000Z(String), 0(Long)
2025-11-28T10:15:57.514+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:15:57.515+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.515+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug3
2025-11-28T10:15:57.515+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.516+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:15:57.516+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug3(String)
2025-11-28T10:15:57.517+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:15:57.517+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.518+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=3, youtubeCommentId=Ug3
2025-11-28T10:15:57.518+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.518+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:15:57.519+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 3(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:15:57.520+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:15:57.521+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.521+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Analysis result insert: result=1, commentId=3, status=filtered
2025-11-28T10:15:57.521+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.522+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug4(String), 필터링 댓글 4(String), 사용자4(String), 2024-12-19T10:15:00.000Z(String), 0(Long)
2025-11-28T10:15:57.523+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:15:57.523+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.524+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=1, youtubeCommentId=Ug4
2025-11-28T10:15:57.524+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.525+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug4(String)
2025-11-28T10:15:57.526+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:15:57.528+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.528+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=4, youtubeCommentId=Ug4
2025-11-28T10:15:57.529+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.529+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 4(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:15:57.532+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:15:57.533+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.533+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Analysis result insert: result=1, commentId=4, status=filtered
2025-11-28T10:15:57.534+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.534+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:15:57.536+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:15:57.538+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:15:57.538+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.539+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:15:57.539+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.540+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:15:57.540+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:15:57.546+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:15:57.547+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.548+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.548+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:15:57.549+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:15:57.556+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:15:57.557+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.557+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:15:57.558+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.559+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:15:57.560+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:15:57.564+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:15:57.565+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.565+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:15:57.566+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.566+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:15:57.568+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:15:57.571+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:15:57.572+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.573+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:15:57.575+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:15:57.577+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.578+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:15:57.580+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:15:57.585+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:15:57.589+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.590+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e] from current transaction
2025-11-28T10:15:57.592+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:15:57.595+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:15:57.600+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:15:57.602+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.605+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=4, threshold=5
2025-11-28T10:15:57.606+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=4, threshold=5, userId=11, channelId=6
2025-11-28T10:15:57.607+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.609+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.609+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10efc72e]
2025-11-28T10:15:57.618+09:00 DEBUG 10632 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:16:01.629+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:16:01.630+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:16:01.630+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5423d49d, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:16:01.633+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:16:01.637+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:16:01.637+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.638+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2020823977 wrapping com.mysql.cj.jdbc.ConnectionImpl@510f8007] will be managed by Spring
2025-11-28T10:16:01.638+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:16:01.639+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:16:01.641+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:16:01.642+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.643+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.643+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:16:01.645+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug5(String), 필터링 댓글 5(String), 사용자5(String), 2024-12-19T10:20:00.000Z(String), 0(Long)
2025-11-28T10:16:01.649+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 2
2025-11-28T10:16:01.649+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.650+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=2, youtubeCommentId=Ug5
2025-11-28T10:16:01.651+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.652+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:16:01.652+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug5(String)
2025-11-28T10:16:01.654+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:16:01.655+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.655+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=5, youtubeCommentId=Ug5
2025-11-28T10:16:01.656+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.656+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:16:01.658+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 5(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:16:01.660+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:16:01.661+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.661+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Analysis result insert: result=1, commentId=5, status=filtered
2025-11-28T10:16:01.662+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.663+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug6(String), 필터링 댓글 6(String), 사용자6(String), 2024-12-19T10:25:00.000Z(String), 0(Long)
2025-11-28T10:16:01.666+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 2
2025-11-28T10:16:01.667+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.667+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : INSERT result: insertResult=2, youtubeCommentId=Ug6
2025-11-28T10:16:01.668+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.668+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug6(String)
2025-11-28T10:16:01.670+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:16:01.671+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.671+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : SELECT result: commentId=6, youtubeCommentId=Ug6
2025-11-28T10:16:01.672+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.672+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 6(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:16:01.675+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:16:01.676+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.676+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Analysis result insert: result=1, commentId=6, status=filtered
2025-11-28T10:16:01.677+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.677+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:16:01.679+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:16:01.683+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:16:01.683+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.684+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:16:01.684+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.685+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:16:01.687+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:16:01.690+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:16:01.691+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.691+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.692+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:16:01.693+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:16:01.696+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:16:01.696+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.697+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:16:01.697+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.698+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:16:01.698+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:16:01.701+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:16:01.702+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.702+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:16:01.703+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.703+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:16:01.704+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:16:01.709+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:16:01.710+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.710+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:16:01.711+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:16:01.711+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.711+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:16:01.712+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:16:01.716+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:16:01.717+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.718+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992] from current transaction
2025-11-28T10:16:01.718+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:16:01.721+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:16:01.725+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:16:01.726+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:01.727+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=6, threshold=5
2025-11-28T10:16:05.126+09:00  INFO 10632 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 발송 완료: userId=11, channelId=6, channelName=테스트 채널, recipientEmail=heomin00518@naver.com, 시간당filteredCount=6, threshold=5, timeUnit=HOURLY
2025-11-28T10:16:05.127+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:05.127+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:05.127+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e5992]
2025-11-28T10:16:05.134+09:00 DEBUG 10632 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:22:41.073+09:00  INFO 3088 --- [restartedMain] com.medi.backend.BackendApplication      : Starting BackendApplication using Java 17.0.15 with PID 3088 (C:\medi\backend\build\classes\java\main started by USER in C:\medi\backend)
2025-11-28T10:22:41.081+09:00 DEBUG 3088 --- [restartedMain] com.medi.backend.BackendApplication      : Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-28T10:22:41.084+09:00  INFO 3088 --- [restartedMain] com.medi.backend.BackendApplication      : No active profile set, falling back to 1 default profile: "default"
2025-11-28T10:22:41.608+09:00  INFO 3088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-28T10:22:41.614+09:00  INFO 3088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-28T10:22:49.712+09:00 DEBUG 3088 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-11-28T10:22:49.718+09:00 DEBUG 3088 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.medi.backend'
2025-11-28T10:22:51.516+09:00  INFO 3088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-28T10:22:51.525+09:00  INFO 3088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-28T10:22:51.682+09:00  INFO 3088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 0 Redis repository interfaces.
2025-11-28T10:22:51.948+09:00 DEBUG 3088 --- [restartedMain] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-11-28T10:22:51.975+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\admin\mapper\AdminMapper.class]
2025-11-28T10:22:51.976+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\agent\mapper\AgentMapper.class]
2025-11-28T10:22:51.977+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\auth\mapper\AuthMapper.class]
2025-11-28T10:22:51.978+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\billing\mapper\BillingMapper.class]
2025-11-28T10:22:51.978+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\filter\mapper\FilterMapper.class]
2025-11-28T10:22:51.979+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\userdashboard\mapper\UserDashboardMapper.class]
2025-11-28T10:22:51.980+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\user\mapper\UserMapper.class]
2025-11-28T10:22:51.980+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\ChannelMapper.class]
2025-11-28T10:22:51.981+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\VideoMapper.class]
2025-11-28T10:22:51.984+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeChannelMapper.class]
2025-11-28T10:22:51.984+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeCommentSyncCursorMapper.class]
2025-11-28T10:22:51.985+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeOAuthTokenMapper.class]
2025-11-28T10:22:51.985+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeSyncStatusMapper.class]
2025-11-28T10:22:51.986+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeVideoMapper.class]
2025-11-28T10:22:51.988+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'adminMapper' and 'com.medi.backend.admin.mapper.AdminMapper' mapperInterface
2025-11-28T10:22:51.992+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'agentMapper' and 'com.medi.backend.agent.mapper.AgentMapper' mapperInterface
2025-11-28T10:22:51.993+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'authMapper' and 'com.medi.backend.auth.mapper.AuthMapper' mapperInterface
2025-11-28T10:22:51.994+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'billingMapper' and 'com.medi.backend.billing.mapper.BillingMapper' mapperInterface
2025-11-28T10:22:51.995+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'filterMapper' and 'com.medi.backend.filter.mapper.FilterMapper' mapperInterface
2025-11-28T10:22:51.996+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userDashboardMapper' and 'com.medi.backend.userdashboard.mapper.UserDashboardMapper' mapperInterface
2025-11-28T10:22:51.997+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.medi.backend.user.mapper.UserMapper' mapperInterface
2025-11-28T10:22:51.998+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'channelMapper' and 'com.medi.backend.youtube.mapper.ChannelMapper' mapperInterface
2025-11-28T10:22:51.999+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'videoMapper' and 'com.medi.backend.youtube.mapper.VideoMapper' mapperInterface
2025-11-28T10:22:52.000+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeChannelMapper' and 'com.medi.backend.youtube.mapper.YoutubeChannelMapper' mapperInterface
2025-11-28T10:22:52.001+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeCommentSyncCursorMapper' and 'com.medi.backend.youtube.mapper.YoutubeCommentSyncCursorMapper' mapperInterface
2025-11-28T10:22:52.002+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeOAuthTokenMapper' and 'com.medi.backend.youtube.mapper.YoutubeOAuthTokenMapper' mapperInterface
2025-11-28T10:22:52.003+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeSyncStatusMapper' and 'com.medi.backend.youtube.mapper.YoutubeSyncStatusMapper' mapperInterface
2025-11-28T10:22:52.003+09:00 DEBUG 3088 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeVideoMapper' and 'com.medi.backend.youtube.mapper.YoutubeVideoMapper' mapperInterface
2025-11-28T10:22:53.226+09:00  INFO 3088 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-28T10:22:53.252+09:00  INFO 3088 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-28T10:22:53.253+09:00  INFO 3088 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-28T10:22:53.369+09:00  INFO 3088 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-28T10:22:53.371+09:00  INFO 3088 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11746 ms
2025-11-28T10:22:54.716+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\admin\adminMapper.xml]'
2025-11-28T10:22:54.805+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]'
2025-11-28T10:22:54.837+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\auth\AuthMapper.xml]'
2025-11-28T10:22:54.958+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\billing\BillingMapper.xml]'
2025-11-28T10:22:54.997+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\filter\FilterMapper.xml]'
2025-11-28T10:22:55.053+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\userdashboard\UserDashboardMapper.xml]'
2025-11-28T10:22:55.078+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\user\UserMapper.xml]'
2025-11-28T10:22:55.094+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\ChannelMapper.xml]'
2025-11-28T10:22:55.110+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\VideoMapper.xml]'
2025-11-28T10:22:55.134+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeChannelMapper.xml]'
2025-11-28T10:22:55.155+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeCommentSyncCursorMapper.xml]'
2025-11-28T10:22:55.176+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeOAuthTokenMapper.xml]'
2025-11-28T10:22:55.200+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeSyncStatusMapper.xml]'
2025-11-28T10:22:55.222+09:00 DEBUG 3088 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeVideoMapper.xml]'
2025-11-28T10:22:56.433+09:00  INFO 3088 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-28T10:22:56.436+09:00  WARN 3088 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-28T10:22:57.339+09:00  INFO 3088 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Transcript Executor 빈 생성 완료: corePoolSize=2, maxPoolSize=3, queueCapacity=50
2025-11-28T10:22:57.350+09:00  INFO 3088 --- [restartedMain] c.m.b.y.r.s.YoutubeTranscriptServiceImpl : ? Transcript Executor 초기화 완료
2025-11-28T10:22:57.365+09:00  INFO 3088 --- [restartedMain] c.m.b.youtube.service.YoutubeService     : ? YoutubeRedisSyncService가 정상적으로 주입되었습니다.
2025-11-28T10:22:57.473+09:00  INFO 3088 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Redis Sync Executor 빈 생성 완료: corePoolSize=4, maxPoolSize=8, queueCapacity=50
2025-11-28T10:22:58.421+09:00  INFO 3088 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-11-28T10:22:58.763+09:00 DEBUG 3088 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextPersistenceFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-28T10:22:59.042+09:00 DEBUG 3088 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-28T10:22:59.930+09:00  INFO 3088 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-28T10:23:00.075+09:00  INFO 3088 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-28T10:23:00.117+09:00  INFO 3088 --- [restartedMain] com.medi.backend.BackendApplication      : Started BackendApplication in 21.999 seconds (process running for 23.604)
2025-11-28T10:23:00.132+09:00  INFO 3088 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp 설치 확인 시작: path=yt-dlp
2025-11-28T10:23:01.261+09:00  INFO 3088 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp가 이미 설치되어 있습니다: version=2025.11.12
2025-11-28T10:23:10.231+09:00  INFO 3088 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28T10:23:10.242+09:00  INFO 3088 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-28T10:23:10.248+09:00  INFO 3088 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-11-28T10:23:10.406+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-28T10:23:10.442+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-11-28T10:23:10.453+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-28T10:23:10.455+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 6A8ADB6C86B1CB15D37E4BC5E70E74DA
2025-11-28T10:23:10.480+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-28T10:23:10.847+09:00  INFO 3088 --- [http-nio-8080-exec-2] c.m.b.auth.controller.AuthController     : 로그인 시도: aadd@medi.com
2025-11-28T10:23:10.996+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.g.s.s.CustomUserDetailsService     : 로그인 시도: aadd@medi.com
2025-11-28T10:23:11.010+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:23:11.018+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a57b92] was not registered for synchronization because synchronization is not active
2025-11-28T10:23:11.032+09:00  INFO 3088 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-28T10:23:11.588+09:00  INFO 3088 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e32e176
2025-11-28T10:23:11.594+09:00  INFO 3088 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-28T10:23:11.605+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813588369 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e32e176] will not be managed by Spring
2025-11-28T10:23:11.617+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T10:23:11.685+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T10:23:11.759+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T10:23:11.767+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a57b92]
2025-11-28T10:23:11.771+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.g.s.s.CustomUserDetailsService     : 사용자 인증 정보 로드 완료: aadd@medi.com (userId: 11, 권한: ADMIN)
2025-11-28T10:23:11.870+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-28T10:23:11.939+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:23:11.940+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54d386d7] was not registered for synchronization because synchronization is not active
2025-11-28T10:23:11.941+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1477404157 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e32e176] will not be managed by Spring
2025-11-28T10:23:11.942+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T10:23:11.944+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T10:23:11.949+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T10:23:11.950+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54d386d7]
2025-11-28T10:23:11.951+09:00  INFO 3088 --- [http-nio-8080-exec-2] c.m.b.auth.controller.AuthController     : 로그인 성공: aadd@medi.com (세션 ID: 4FD4897398B8D8672E39FB1D1479BA8B)
2025-11-28T10:23:12.005+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3edefd80]
2025-11-28T10:23:12.009+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3edefd80]
2025-11-28T10:23:12.010+09:00 DEBUG 3088 --- [http-nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:23:21.407+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/filter/preferences
2025-11-28T10:23:21.408+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:21.408+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:21.410+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/filter/preferences
2025-11-28T10:23:21.423+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T10:23:21.434+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T10:23:21.435+09:00  INFO 3088 --- [http-nio-8080-exec-3] c.m.b.f.controller.FilterController      : ? [필터 API] 설정 저장: userId=11, channelId=null
2025-11-28T10:23:21.454+09:00  INFO 3088 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 저장 시작: userId=11, channelId=null
2025-11-28T10:23:21.456+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:23:21.457+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:21.459+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@635453921 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e32e176] will be managed by Spring
2025-11-28T10:23:21.460+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==>  Preparing: INSERT INTO user_filter_preferences (user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, TRUE), NOW(), NOW()) ON DUPLICATE KEY UPDATE selected_categories = VALUES(selected_categories), custom_rule_keywords = VALUES(custom_rule_keywords), dislike_examples = VALUES(dislike_examples), allow_examples = VALUES(allow_examples), email_notification_settings = VALUES(email_notification_settings), is_active = VALUES(is_active), updated_at = NOW()
2025-11-28T10:23:21.471+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==> Parameters: 11(Integer), null, ["profanity"](String), {}(String), ["예시1","예시2","예시3"](String), [](String), {"enabled":true,"timeUnit":"HOURLY","threshold":5,"email":"heomin000518@naver.com"}(String), true(Boolean)
2025-11-28T10:23:21.476+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : <==    Updates: 1
2025-11-28T10:23:21.482+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:21.482+09:00  INFO 3088 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] DB 저장 완료: id=3, userId=11, channelId=null
2025-11-28T10:23:21.482+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 시작: userId=11, channelId=null
2025-11-28T10:23:21.483+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9] from current transaction
2025-11-28T10:23:21.516+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:23:21.517+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:23:21.534+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:23:21.535+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:21.537+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9] from current transaction
2025-11-28T10:23:21.538+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==>  Preparing: SELECT id, category_id, comment_text, suggested_label, difficulty_level, usage_count, is_active FROM filter_example_comments WHERE is_active = TRUE AND category_id = ? ORDER BY FIELD(suggested_label, 'block', 'allow'), -- block 먼저, allow 나중 FIELD(difficulty_level, 'EASY', 'MEDIUM', 'HARD'), -- 난이도 순 RAND() -- 랜덤 LIMIT ?
2025-11-28T10:23:21.539+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==> Parameters: profanity(String), 10(Integer)
2025-11-28T10:23:21.551+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : <==      Total: 10
2025-11-28T10:23:21.552+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:21.556+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 완료 (JSON): 길이=683자, 카테고리=1개, Few-shot=1개
2025-11-28T10:23:22.149+09:00  INFO 3088 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [Redis 저장] 완료: key=user:11:form:global, length=683자
2025-11-28T10:23:22.151+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:22.152+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:22.153+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513430c9]
2025-11-28T10:23:22.175+09:00 DEBUG 3088 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:23:27.845+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:23:27.846+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:27.846+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:27.847+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:23:27.861+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:23:27.862+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.862+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@65131288 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e32e176] will be managed by Spring
2025-11-28T10:23:27.862+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:23:27.863+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:23:27.867+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:23:27.867+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.868+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.869+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:23:27.870+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug1(String), 필터링 댓글 1(String), 사용자1(String), 2024-12-19T10:00:00.000Z(String), 0(Long)
2025-11-28T10:23:27.873+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:23:27.873+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.874+09:00  INFO 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug1, videoId=10
2025-11-28T10:23:27.874+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.875+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:23:27.875+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug1(String)
2025-11-28T10:23:27.877+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:23:27.877+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.877+09:00  INFO 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=13, youtubeCommentId=Ug1
2025-11-28T10:23:27.878+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.881+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:23:27.883+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 13(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:23:27.886+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:23:27.886+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.886+09:00  INFO 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=13, status=filtered, analysisResult=1
2025-11-28T10:23:27.887+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.888+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug2(String), 필터링 댓글 2(String), 사용자2(String), 2024-12-19T10:05:00.000Z(String), 0(Long)
2025-11-28T10:23:27.890+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:23:27.891+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.891+09:00  INFO 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug2, videoId=10
2025-11-28T10:23:27.892+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.892+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug2(String)
2025-11-28T10:23:27.895+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:23:27.896+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.896+09:00  INFO 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=14, youtubeCommentId=Ug2
2025-11-28T10:23:27.896+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.897+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 14(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:23:27.903+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:23:27.904+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.904+09:00  INFO 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=14, status=filtered, analysisResult=1
2025-11-28T10:23:27.905+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.906+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:23:27.907+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:23:27.911+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:23:27.912+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.912+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:23:27.913+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.913+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:23:27.914+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:23:27.916+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:23:27.917+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.920+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.920+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:23:27.921+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:23:27.925+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:23:27.926+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.926+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:23:27.927+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.927+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:23:27.929+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:23:27.933+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:23:27.934+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.935+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:23:27.935+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.936+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:23:27.937+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:23:27.938+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:23:27.939+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.939+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:23:27.940+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:23:27.941+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.941+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:23:27.942+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:23:27.949+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:23:27.950+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.951+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc] from current transaction
2025-11-28T10:23:27.952+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:23:27.954+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:23:27.957+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:23:27.958+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.958+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=2, threshold=5
2025-11-28T10:23:27.959+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=2, threshold=5, userId=11, channelId=6
2025-11-28T10:23:27.959+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.960+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.960+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ebb9dc]
2025-11-28T10:23:27.973+09:00 DEBUG 3088 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:23:31.522+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:23:31.523+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:31.524+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:31.527+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:23:31.532+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:23:31.533+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.534+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802383367 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e32e176] will be managed by Spring
2025-11-28T10:23:31.534+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:23:31.535+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:23:31.537+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:23:31.538+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.539+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.539+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:23:31.540+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug3(String), 필터링 댓글 3(String), 사용자3(String), 2024-12-19T10:10:00.000Z(String), 0(Long)
2025-11-28T10:23:31.543+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:23:31.543+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.544+09:00  INFO 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug3, videoId=10
2025-11-28T10:23:31.545+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.545+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:23:31.546+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug3(String)
2025-11-28T10:23:31.549+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:23:31.550+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.551+09:00  INFO 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=15, youtubeCommentId=Ug3
2025-11-28T10:23:31.551+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.553+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:23:31.554+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 15(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:23:31.556+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:23:31.557+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.558+09:00  INFO 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=15, status=filtered, analysisResult=1
2025-11-28T10:23:31.559+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.560+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug4(String), 필터링 댓글 4(String), 사용자4(String), 2024-12-19T10:15:00.000Z(String), 0(Long)
2025-11-28T10:23:31.562+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:23:31.562+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.564+09:00  INFO 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug4, videoId=10
2025-11-28T10:23:31.564+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.565+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug4(String)
2025-11-28T10:23:31.568+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:23:31.568+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.569+09:00  INFO 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=16, youtubeCommentId=Ug4
2025-11-28T10:23:31.569+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.570+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 16(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:23:31.572+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:23:31.572+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.572+09:00  INFO 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=16, status=filtered, analysisResult=1
2025-11-28T10:23:31.573+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.573+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:23:31.574+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:23:31.577+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:23:31.577+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.578+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:23:31.578+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.579+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:23:31.580+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:23:31.584+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:23:31.585+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.586+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.587+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:23:31.587+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:23:31.589+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:23:31.590+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.590+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:23:31.591+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.592+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:23:31.592+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:23:31.596+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:23:31.596+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.597+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:23:31.597+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.597+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:23:31.598+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:23:31.600+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:23:31.601+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.601+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:23:31.602+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:23:31.602+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.602+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:23:31.603+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:23:31.606+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:23:31.607+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.608+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c] from current transaction
2025-11-28T10:23:31.608+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:23:31.610+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:23:31.613+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:23:31.614+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.614+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=4, threshold=5
2025-11-28T10:23:31.614+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=4, threshold=5, userId=11, channelId=6
2025-11-28T10:23:31.614+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.615+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.615+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a533a3c]
2025-11-28T10:23:31.622+09:00 DEBUG 3088 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:23:37.360+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:23:37.361+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:37.361+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@39f0fb16, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:23:37.362+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:23:37.364+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:23:37.364+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.366+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464607148 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e32e176] will be managed by Spring
2025-11-28T10:23:37.366+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:23:37.366+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:23:37.366+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:23:37.366+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.366+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.368+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:23:37.369+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug5(String), 필터링 댓글 5(String), 사용자5(String), 2024-12-19T10:20:00.000Z(String), 0(Long)
2025-11-28T10:23:37.369+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:23:37.369+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.369+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug5, videoId=10
2025-11-28T10:23:37.370+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.370+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:23:37.370+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug5(String)
2025-11-28T10:23:37.372+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:23:37.373+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.373+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=17, youtubeCommentId=Ug5
2025-11-28T10:23:37.373+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.373+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:23:37.373+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 17(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:23:37.376+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:23:37.376+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.376+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=17, status=filtered, analysisResult=1
2025-11-28T10:23:37.376+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.378+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug6(String), 필터링 댓글 6(String), 사용자6(String), 2024-12-19T10:25:00.000Z(String), 0(Long)
2025-11-28T10:23:37.379+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:23:37.379+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.380+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug6, videoId=10
2025-11-28T10:23:37.380+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.380+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug6(String)
2025-11-28T10:23:37.382+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:23:37.382+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.382+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=18, youtubeCommentId=Ug6
2025-11-28T10:23:37.383+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.383+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 18(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:23:37.385+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:23:37.385+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.385+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=18, status=filtered, analysisResult=1
2025-11-28T10:23:37.385+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.386+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:23:37.387+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:23:37.389+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:23:37.389+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.389+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:23:37.390+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.390+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:23:37.390+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:23:37.392+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:23:37.392+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.393+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.393+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:23:37.394+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:23:37.396+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:23:37.396+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.396+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:23:37.397+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.397+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:23:37.398+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:23:37.401+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:23:37.402+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.403+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:23:37.403+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.404+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:23:37.404+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:23:37.406+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:23:37.407+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.409+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:23:37.410+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:23:37.411+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.412+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:23:37.413+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:23:37.416+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:23:37.417+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.417+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97] from current transaction
2025-11-28T10:23:37.417+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:23:37.418+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:23:37.420+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:23:37.421+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:37.421+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=6, threshold=5
2025-11-28T10:23:41.080+09:00  INFO 3088 --- [http-nio-8080-exec-6] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 발송 완료: userId=11, channelId=6, channelName=테스트 채널, recipientEmail=heomin00518@naver.com, 시간당filteredCount=6, threshold=5, timeUnit=HOURLY
2025-11-28T10:23:41.081+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:41.081+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:41.081+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8c5d97]
2025-11-28T10:23:41.088+09:00 DEBUG 3088 --- [http-nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:27:33.565+09:00  INFO 23384 --- [restartedMain] com.medi.backend.BackendApplication      : Starting BackendApplication using Java 17.0.15 with PID 23384 (C:\medi\backend\build\classes\java\main started by USER in C:\medi\backend)
2025-11-28T10:27:33.586+09:00 DEBUG 23384 --- [restartedMain] com.medi.backend.BackendApplication      : Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-28T10:27:33.596+09:00  INFO 23384 --- [restartedMain] com.medi.backend.BackendApplication      : No active profile set, falling back to 1 default profile: "default"
2025-11-28T10:27:33.770+09:00  INFO 23384 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-28T10:27:33.773+09:00  INFO 23384 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-28T10:27:37.127+09:00 DEBUG 23384 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-11-28T10:27:37.129+09:00 DEBUG 23384 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.medi.backend'
2025-11-28T10:27:38.092+09:00  INFO 23384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-28T10:27:38.097+09:00  INFO 23384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-28T10:27:38.204+09:00  INFO 23384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 0 Redis repository interfaces.
2025-11-28T10:27:38.480+09:00 DEBUG 23384 --- [restartedMain] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-11-28T10:27:38.503+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\admin\mapper\AdminMapper.class]
2025-11-28T10:27:38.503+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\agent\mapper\AgentMapper.class]
2025-11-28T10:27:38.504+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\auth\mapper\AuthMapper.class]
2025-11-28T10:27:38.504+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\billing\mapper\BillingMapper.class]
2025-11-28T10:27:38.505+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\filter\mapper\FilterMapper.class]
2025-11-28T10:27:38.505+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\userdashboard\mapper\UserDashboardMapper.class]
2025-11-28T10:27:38.506+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\user\mapper\UserMapper.class]
2025-11-28T10:27:38.506+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\ChannelMapper.class]
2025-11-28T10:27:38.507+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\VideoMapper.class]
2025-11-28T10:27:38.507+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeChannelMapper.class]
2025-11-28T10:27:38.508+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeCommentSyncCursorMapper.class]
2025-11-28T10:27:38.508+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeOAuthTokenMapper.class]
2025-11-28T10:27:38.508+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeSyncStatusMapper.class]
2025-11-28T10:27:38.509+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\medi\backend\build\classes\java\main\com\medi\backend\youtube\mapper\YoutubeVideoMapper.class]
2025-11-28T10:27:38.511+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'adminMapper' and 'com.medi.backend.admin.mapper.AdminMapper' mapperInterface
2025-11-28T10:27:38.514+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'agentMapper' and 'com.medi.backend.agent.mapper.AgentMapper' mapperInterface
2025-11-28T10:27:38.515+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'authMapper' and 'com.medi.backend.auth.mapper.AuthMapper' mapperInterface
2025-11-28T10:27:38.516+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'billingMapper' and 'com.medi.backend.billing.mapper.BillingMapper' mapperInterface
2025-11-28T10:27:38.518+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'filterMapper' and 'com.medi.backend.filter.mapper.FilterMapper' mapperInterface
2025-11-28T10:27:38.518+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userDashboardMapper' and 'com.medi.backend.userdashboard.mapper.UserDashboardMapper' mapperInterface
2025-11-28T10:27:38.519+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.medi.backend.user.mapper.UserMapper' mapperInterface
2025-11-28T10:27:38.521+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'channelMapper' and 'com.medi.backend.youtube.mapper.ChannelMapper' mapperInterface
2025-11-28T10:27:38.522+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'videoMapper' and 'com.medi.backend.youtube.mapper.VideoMapper' mapperInterface
2025-11-28T10:27:38.523+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeChannelMapper' and 'com.medi.backend.youtube.mapper.YoutubeChannelMapper' mapperInterface
2025-11-28T10:27:38.524+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeCommentSyncCursorMapper' and 'com.medi.backend.youtube.mapper.YoutubeCommentSyncCursorMapper' mapperInterface
2025-11-28T10:27:38.526+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeOAuthTokenMapper' and 'com.medi.backend.youtube.mapper.YoutubeOAuthTokenMapper' mapperInterface
2025-11-28T10:27:38.527+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeSyncStatusMapper' and 'com.medi.backend.youtube.mapper.YoutubeSyncStatusMapper' mapperInterface
2025-11-28T10:27:38.528+09:00 DEBUG 23384 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'youtubeVideoMapper' and 'com.medi.backend.youtube.mapper.YoutubeVideoMapper' mapperInterface
2025-11-28T10:27:40.340+09:00  INFO 23384 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-11-28T10:27:40.377+09:00  INFO 23384 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-28T10:27:40.379+09:00  INFO 23384 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-28T10:27:40.522+09:00  INFO 23384 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-28T10:27:40.523+09:00  INFO 23384 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6748 ms
2025-11-28T10:27:41.416+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\admin\adminMapper.xml]'
2025-11-28T10:27:41.470+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\agent\AgentMapper.xml]'
2025-11-28T10:27:41.483+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\auth\AuthMapper.xml]'
2025-11-28T10:27:41.506+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\billing\BillingMapper.xml]'
2025-11-28T10:27:41.549+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\filter\FilterMapper.xml]'
2025-11-28T10:27:41.579+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\userdashboard\UserDashboardMapper.xml]'
2025-11-28T10:27:41.596+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\user\UserMapper.xml]'
2025-11-28T10:27:41.609+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\ChannelMapper.xml]'
2025-11-28T10:27:41.621+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\VideoMapper.xml]'
2025-11-28T10:27:41.634+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeChannelMapper.xml]'
2025-11-28T10:27:41.642+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeCommentSyncCursorMapper.xml]'
2025-11-28T10:27:41.659+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeOAuthTokenMapper.xml]'
2025-11-28T10:27:41.674+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeSyncStatusMapper.xml]'
2025-11-28T10:27:41.692+09:00 DEBUG 23384 --- [restartedMain] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\medi\backend\build\resources\main\mapper\youtube\YoutubeVideoMapper.xml]'
2025-11-28T10:27:42.692+09:00  INFO 23384 --- [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-28T10:27:42.694+09:00  WARN 23384 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-28T10:27:43.383+09:00  INFO 23384 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Transcript Executor 빈 생성 완료: corePoolSize=2, maxPoolSize=3, queueCapacity=50
2025-11-28T10:27:43.395+09:00  INFO 23384 --- [restartedMain] c.m.b.y.r.s.YoutubeTranscriptServiceImpl : ? Transcript Executor 초기화 완료
2025-11-28T10:27:43.416+09:00  INFO 23384 --- [restartedMain] c.m.b.youtube.service.YoutubeService     : ? YoutubeRedisSyncService가 정상적으로 주입되었습니다.
2025-11-28T10:27:43.496+09:00  INFO 23384 --- [restartedMain] c.m.backend.global.config.AsyncConfig    : ? Redis Sync Executor 빈 생성 완료: corePoolSize=4, maxPoolSize=8, queueCapacity=50
2025-11-28T10:27:44.486+09:00  INFO 23384 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-11-28T10:27:44.881+09:00 DEBUG 23384 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextPersistenceFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-28T10:27:45.155+09:00 DEBUG 23384 --- [restartedMain] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-28T10:27:46.093+09:00  INFO 23384 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-28T10:27:46.204+09:00  INFO 23384 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-11-28T10:27:46.255+09:00  INFO 23384 --- [restartedMain] com.medi.backend.BackendApplication      : Started BackendApplication in 14.443 seconds (process running for 15.597)
2025-11-28T10:27:46.268+09:00  INFO 23384 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp 설치 확인 시작: path=yt-dlp
2025-11-28T10:27:47.182+09:00  INFO 23384 --- [restartedMain] c.m.b.youtube.config.YtDlpInitializer    : ? yt-dlp가 이미 설치되어 있습니다: version=2025.11.12
2025-11-28T10:27:50.894+09:00  INFO 23384 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-28T10:27:50.895+09:00  INFO 23384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-28T10:27:50.899+09:00  INFO 23384 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-11-28T10:27:50.954+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-28T10:27:50.980+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-11-28T10:27:50.996+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-28T10:27:50.999+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 4FD4897398B8D8672E39FB1D1479BA8B
2025-11-28T10:27:51.017+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-28T10:27:51.286+09:00  INFO 23384 --- [http-nio-8080-exec-1] c.m.b.auth.controller.AuthController     : 로그인 시도: aadd@medi.com
2025-11-28T10:27:51.418+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.g.s.s.CustomUserDetailsService     : 로그인 시도: aadd@medi.com
2025-11-28T10:27:51.431+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:27:51.440+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e49768] was not registered for synchronization because synchronization is not active
2025-11-28T10:27:51.461+09:00  INFO 23384 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-28T10:27:52.194+09:00  INFO 23384 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75fbcc90
2025-11-28T10:27:52.207+09:00  INFO 23384 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-28T10:27:52.232+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@678850984 wrapping com.mysql.cj.jdbc.ConnectionImpl@75fbcc90] will not be managed by Spring
2025-11-28T10:27:52.338+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T10:27:52.462+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T10:27:52.533+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T10:27:52.557+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e49768]
2025-11-28T10:27:52.565+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.g.s.s.CustomUserDetailsService     : 사용자 인증 정보 로드 완료: aadd@medi.com (userId: 11, 권한: ADMIN)
2025-11-28T10:27:52.673+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-28T10:27:52.744+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:27:52.745+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@feb3cd] was not registered for synchronization because synchronization is not active
2025-11-28T10:27:52.747+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549132956 wrapping com.mysql.cj.jdbc.ConnectionImpl@75fbcc90] will not be managed by Spring
2025-11-28T10:27:52.748+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.u.mapper.UserMapper.findByEmail    : ==>  Preparing: SELECT id, email, password, name, phone, is_terms_agreed, role, created_at, updated_at, provider, provider_id, profile_image FROM users WHERE email = ?
2025-11-28T10:27:52.751+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.u.mapper.UserMapper.findByEmail    : ==> Parameters: aadd@medi.com(String)
2025-11-28T10:27:52.759+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] c.m.b.u.mapper.UserMapper.findByEmail    : <==      Total: 1
2025-11-28T10:27:52.761+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@feb3cd]
2025-11-28T10:27:52.761+09:00  INFO 23384 --- [http-nio-8080-exec-1] c.m.b.auth.controller.AuthController     : 로그인 성공: aadd@medi.com (세션 ID: 66896AA600A54A4F8E07A00A1585008C)
2025-11-28T10:27:52.845+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6bc12d7]
2025-11-28T10:27:52.858+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6bc12d7]
2025-11-28T10:27:52.860+09:00 DEBUG 23384 --- [http-nio-8080-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:27:58.691+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/filter/preferences
2025-11-28T10:27:58.692+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:27:58.693+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:27:58.696+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/filter/preferences
2025-11-28T10:27:58.711+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T10:27:58.727+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.medi.backend.filter.controller.FilterController.savePreference(com.medi.backend.filter.dto.FilterPreferenceRequest); target is of class [com.medi.backend.filter.controller.FilterController]
2025-11-28T10:27:58.728+09:00  INFO 23384 --- [http-nio-8080-exec-3] c.m.b.f.controller.FilterController      : ? [필터 API] 설정 저장: userId=11, channelId=null
2025-11-28T10:27:58.747+09:00  INFO 23384 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 저장 시작: userId=11, channelId=null
2025-11-28T10:27:58.749+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:27:58.749+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:58.752+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2010358890 wrapping com.mysql.cj.jdbc.ConnectionImpl@75fbcc90] will be managed by Spring
2025-11-28T10:27:58.753+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==>  Preparing: INSERT INTO user_filter_preferences (user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, TRUE), NOW(), NOW()) ON DUPLICATE KEY UPDATE selected_categories = VALUES(selected_categories), custom_rule_keywords = VALUES(custom_rule_keywords), dislike_examples = VALUES(dislike_examples), allow_examples = VALUES(allow_examples), email_notification_settings = VALUES(email_notification_settings), is_active = VALUES(is_active), updated_at = NOW()
2025-11-28T10:27:58.769+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : ==> Parameters: 11(Integer), null, ["profanity"](String), {}(String), ["예시1","예시2","예시3"](String), [](String), {"enabled":true,"timeUnit":"HOURLY","threshold":5,"email":"heomin000518@naver.com"}(String), true(Boolean)
2025-11-28T10:27:58.774+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] c.m.b.f.m.FilterMapper.upsertPreference  : <==    Updates: 1
2025-11-28T10:27:58.779+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:58.781+09:00  INFO 23384 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] DB 저장 완료: id=4, userId=11, channelId=null
2025-11-28T10:27:58.783+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 시작: userId=11, channelId=null
2025-11-28T10:27:58.785+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038] from current transaction
2025-11-28T10:27:58.821+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:27:58.822+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:27:58.838+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:27:58.839+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:58.841+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038] from current transaction
2025-11-28T10:27:58.842+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==>  Preparing: SELECT id, category_id, comment_text, suggested_label, difficulty_level, usage_count, is_active FROM filter_example_comments WHERE is_active = TRUE AND category_id = ? ORDER BY FIELD(suggested_label, 'block', 'allow'), -- block 먼저, allow 나중 FIELD(difficulty_level, 'EASY', 'MEDIUM', 'HARD'), -- 난이도 순 RAND() -- 랜덤 LIMIT ?
2025-11-28T10:27:58.845+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : ==> Parameters: profanity(String), 10(Integer)
2025-11-28T10:27:58.856+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] .m.b.f.m.F.findFewShotExamplesByCategory : <==      Total: 10
2025-11-28T10:27:58.857+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:58.864+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [프롬프트] 정책 블록 생성 완료 (JSON): 길이=684자, 카테고리=1개, Few-shot=1개
2025-11-28T10:27:59.543+09:00  INFO 23384 --- [http-nio-8080-exec-3] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [Redis 저장] 완료: key=user:11:form:global, length=684자
2025-11-28T10:27:59.544+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:59.544+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:59.545+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75465038]
2025-11-28T10:27:59.570+09:00 DEBUG 23384 --- [http-nio-8080-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:28:05.199+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:28:05.200+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:28:05.200+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:28:05.202+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:28:05.236+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:28:05.237+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.238+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355238502 wrapping com.mysql.cj.jdbc.ConnectionImpl@75fbcc90] will be managed by Spring
2025-11-28T10:28:05.239+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:28:05.241+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:28:05.246+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:28:05.248+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.249+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.250+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:28:05.253+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug1(String), 필터링 댓글 1(String), 사용자1(String), 2024-12-19T10:00:00.000Z(String), 0(Long)
2025-11-28T10:28:05.259+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:28:05.261+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.262+09:00  INFO 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug1, videoId=10
2025-11-28T10:28:05.262+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.263+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:28:05.265+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug1(String)
2025-11-28T10:28:05.268+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:28:05.271+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.271+09:00  INFO 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=19, youtubeCommentId=Ug1
2025-11-28T10:28:05.273+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.279+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:28:05.283+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 19(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:28:05.287+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:28:05.288+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.288+09:00  INFO 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=19, status=filtered, analysisResult=1
2025-11-28T10:28:05.289+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.290+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug2(String), 필터링 댓글 2(String), 사용자2(String), 2024-12-19T10:05:00.000Z(String), 0(Long)
2025-11-28T10:28:05.295+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:28:05.297+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.299+09:00  INFO 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug2, videoId=10
2025-11-28T10:28:05.300+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.301+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug2(String)
2025-11-28T10:28:05.306+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:28:05.307+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.308+09:00  INFO 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=20, youtubeCommentId=Ug2
2025-11-28T10:28:05.309+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.311+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 20(Integer), filtered(String), profanity(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:28:05.315+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:28:05.316+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.317+09:00  INFO 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=20, status=filtered, analysisResult=1
2025-11-28T10:28:05.318+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.319+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:28:05.321+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:00:00.000Z(String)
2025-11-28T10:28:05.325+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:28:05.325+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.326+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:28:05.327+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.328+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:28:05.329+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:28:05.332+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:28:05.333+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.339+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.340+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:28:05.343+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:28:05.351+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:28:05.353+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.353+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:28:05.355+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.357+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:28:05.360+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:28:05.366+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:28:05.367+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.369+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:28:05.369+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.370+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:28:05.372+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:28:05.376+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:28:05.377+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.378+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:28:05.379+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:28:05.380+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.382+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:28:05.387+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:28:05.395+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:28:05.403+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.407+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc] from current transaction
2025-11-28T10:28:05.409+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:28:05.414+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:28:05.422+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:28:05.423+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.424+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=2, threshold=5
2025-11-28T10:28:05.425+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=2, threshold=5, userId=11, channelId=6
2025-11-28T10:28:05.425+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.427+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.430+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@305136fc]
2025-11-28T10:28:05.447+09:00 DEBUG 23384 --- [http-nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:28:09.563+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:28:09.564+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:28:09.564+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:28:09.565+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:28:09.568+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:28:09.568+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.569+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31333772 wrapping com.mysql.cj.jdbc.ConnectionImpl@75fbcc90] will be managed by Spring
2025-11-28T10:28:09.569+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:28:09.570+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:28:09.572+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:28:09.572+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.572+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.573+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:28:09.574+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug3(String), 필터링 댓글 3(String), 사용자3(String), 2024-12-19T10:10:00.000Z(String), 0(Long)
2025-11-28T10:28:09.576+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:28:09.577+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.577+09:00  INFO 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug3, videoId=10
2025-11-28T10:28:09.577+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.578+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:28:09.578+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug3(String)
2025-11-28T10:28:09.579+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:28:09.579+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.580+09:00  INFO 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=21, youtubeCommentId=Ug3
2025-11-28T10:28:09.580+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.581+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:28:09.581+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 21(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:28:09.583+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:28:09.584+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.584+09:00  INFO 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=21, status=filtered, analysisResult=1
2025-11-28T10:28:09.585+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.586+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug4(String), 필터링 댓글 4(String), 사용자4(String), 2024-12-19T10:15:00.000Z(String), 0(Long)
2025-11-28T10:28:09.588+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:28:09.588+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.589+09:00  INFO 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug4, videoId=10
2025-11-28T10:28:09.589+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.589+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug4(String)
2025-11-28T10:28:09.591+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:28:09.592+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.592+09:00  INFO 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=22, youtubeCommentId=Ug4
2025-11-28T10:28:09.593+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.593+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 22(Integer), filtered(String), profanity(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:28:09.595+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:28:09.595+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.595+09:00  INFO 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=22, status=filtered, analysisResult=1
2025-11-28T10:28:09.596+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.596+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:28:09.597+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:10:00.000Z(String)
2025-11-28T10:28:09.599+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:28:09.599+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.599+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:28:09.600+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.600+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:28:09.601+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:28:09.603+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:28:09.604+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.605+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.605+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:28:09.606+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:28:09.608+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:28:09.609+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.609+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:28:09.610+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.611+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:28:09.612+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:28:09.617+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:28:09.618+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.619+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:28:09.619+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.620+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:28:09.620+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:28:09.622+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:28:09.623+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.624+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:28:09.624+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:28:09.624+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.625+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:28:09.625+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:28:09.628+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:28:09.628+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.629+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7] from current transaction
2025-11-28T10:28:09.630+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:28:09.630+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:28:09.632+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:28:09.633+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.633+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=4, threshold=5
2025-11-28T10:28:09.634+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 필터링된 댓글 개수가 threshold 미만: 시간당filteredCount=4, threshold=5, userId=11, channelId=6
2025-11-28T10:28:09.634+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.635+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.635+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40e317b7]
2025-11-28T10:28:09.641+09:00 DEBUG 23384 --- [http-nio-8080-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-11-28T10:28:13.775+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/analysis/filtered-results
2025-11-28T10:28:13.775+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:28:13.776+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.medi.backend.global.security.dto.CustomUserDetails@5b7d38ad, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]]]
2025-11-28T10:28:13.777+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/analysis/filtered-results
2025-11-28T10:28:13.779+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-11-28T10:28:13.779+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.780+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903846267 wrapping com.mysql.cj.jdbc.ConnectionImpl@75fbcc90] will be managed by Spring
2025-11-28T10:28:13.780+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==>  Preparing: SELECT id FROM youtube_videos WHERE youtube_video_id = ? LIMIT 1
2025-11-28T10:28:13.781+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : ==> Parameters: TEST_VIDEO_12345(String)
2025-11-28T10:28:13.782+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.findVideoIdByYoutubeVideoId  : <==      Total: 1
2025-11-28T10:28:13.782+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.782+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.782+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : ==>  Preparing: INSERT INTO youtube_comments ( video_id, youtube_comment_id, comment_text, commenter_name, published_at, like_count ) VALUES ( ?, ?, ?, ?, STR_TO_DATE(?, '%Y-%m-%dT%H:%i:%s.%fZ'), ? ) ON DUPLICATE KEY UPDATE comment_text = VALUES(comment_text), commenter_name = VALUES(commenter_name), published_at = VALUES(published_at), like_count = VALUES(like_count)
2025-11-28T10:28:13.783+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug5(String), 필터링 댓글 5(String), 사용자5(String), 2024-12-19T10:20:00.000Z(String), 0(Long)
2025-11-28T10:28:13.784+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:28:13.785+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.785+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug5, videoId=10
2025-11-28T10:28:13.785+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.786+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : ==>  Preparing: SELECT id FROM youtube_comments WHERE youtube_comment_id = ? LIMIT 1
2025-11-28T10:28:13.786+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug5(String)
2025-11-28T10:28:13.788+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:28:13.788+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.788+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=23, youtubeCommentId=Ug5
2025-11-28T10:28:13.789+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.789+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : ==>  Preparing: INSERT INTO ai_comment_analysis_result ( youtube_comment_id, status, reason, analyzed_at, harmfulness_level, detection_source ) VALUES ( ?, ?, ? , STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') , 'MEDIUM', 'AI_MODEL' ) ON DUPLICATE KEY UPDATE status = VALUES(status), reason = VALUES(reason), analyzed_at = VALUES(analyzed_at), updated_at = NOW()
2025-11-28T10:28:13.789+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 23(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:28:13.791+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:28:13.791+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.791+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=23, status=filtered, analysisResult=1
2025-11-28T10:28:13.791+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.792+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : ==> Parameters: 10(Integer), Ug6(String), 필터링 댓글 6(String), 사용자6(String), 2024-12-19T10:25:00.000Z(String), 0(Long)
2025-11-28T10:28:13.794+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertFilteredComment        : <==    Updates: 1
2025-11-28T10:28:13.794+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.794+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments 테이블 저장 결과: insertResult=1, youtubeCommentId=Ug6, videoId=10
2025-11-28T10:28:13.795+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.795+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : ==> Parameters: Ug6(String)
2025-11-28T10:28:13.796+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findCommentIdByYoutubeCommentId : <==      Total: 1
2025-11-28T10:28:13.796+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.797+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] youtube_comments ID 조회 성공: commentId=24, youtubeCommentId=Ug6
2025-11-28T10:28:13.797+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.797+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : ==> Parameters: 24(Integer), filtered(String), profanity(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:28:13.799+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertCommentAnalysisResult  : <==    Updates: 1
2025-11-28T10:28:13.799+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.799+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [댓글 저장] ai_comment_analysis_result 저장 성공: commentId=24, status=filtered, analysisResult=1
2025-11-28T10:28:13.800+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.800+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertAnalysisSummary        : ==>  Preparing: INSERT INTO ai_analysis_summary ( video_id, youtube_video_id, youtube_channel_id, neutral_count, filtered_count, suggestion_count, risk_summary, analysis_timestamp ) VALUES ( ?, ?, ?, ?, ?, ?, ?, STR_TO_DATE(REPLACE(?, 'Z', ''), '%Y-%m-%dT%H:%i:%s.%f') ) ON DUPLICATE KEY UPDATE neutral_count = VALUES(neutral_count), filtered_count = VALUES(filtered_count), suggestion_count = VALUES(suggestion_count), risk_summary = VALUES(risk_summary), analysis_timestamp = VALUES(analysis_timestamp), updated_at = NOW()
2025-11-28T10:28:13.801+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertAnalysisSummary        : ==> Parameters: 10(Integer), TEST_VIDEO_12345(String), UC_TEST_CHANNEL_12345(String), 0(Integer), 2(Integer), 0(Integer), 테스트용 요약(String), 2024-12-19T15:30:00.000Z(String)
2025-11-28T10:28:13.804+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.insertAnalysisSummary        : <==    Updates: 2
2025-11-28T10:28:13.805+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.805+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : Analysis summary saved for video: TEST_VIDEO_12345
2025-11-28T10:28:13.805+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.806+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findChannelIdByYoutubeChannelId : ==>  Preparing: SELECT id FROM youtube_channels WHERE youtube_channel_id = ? LIMIT 1
2025-11-28T10:28:13.807+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findChannelIdByYoutubeChannelId : ==> Parameters: UC_TEST_CHANNEL_12345(String)
2025-11-28T10:28:13.808+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] .b.a.m.A.findChannelIdByYoutubeChannelId : <==      Total: 1
2025-11-28T10:28:13.808+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.809+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.809+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.upsertDailyCommentStats      : ==>  Preparing: INSERT INTO daily_comment_stats ( channel_id, video_id, stat_date, total_count, filtered_count ) VALUES ( ?, ?, ?, ?, ? ) ON DUPLICATE KEY UPDATE total_count = total_count + VALUES(total_count), filtered_count = filtered_count + VALUES(filtered_count), updated_at = NOW()
2025-11-28T10:28:13.810+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.upsertDailyCommentStats      : ==> Parameters: 6(Integer), 10(Integer), 2024-12-19(LocalDate), 2(Integer), 2(Integer)
2025-11-28T10:28:13.811+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.upsertDailyCommentStats      : <==    Updates: 2
2025-11-28T10:28:13.811+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.812+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : Daily stats upserted: channelId=6, videoId=10, date=2024-12-19, total=2, filtered=2
2025-11-28T10:28:13.812+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.812+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.y.m.C.getOneChannelById            : ==>  Preparing: SELECT id, user_id, oauth_token_id, youtube_channel_id, channel_name, channel_handle, thumbnail_url, subscriber_count, last_synced_at, last_video_published_at, uploads_playlist_id, created_at, updated_at, deleted_at FROM youtube_channels WHERE id = ? AND (deleted_at IS NULL)
2025-11-28T10:28:13.813+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.y.m.C.getOneChannelById            : ==> Parameters: 6(Integer)
2025-11-28T10:28:13.815+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.y.m.C.getOneChannelById            : <==      Total: 1
2025-11-28T10:28:13.815+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.816+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=6
2025-11-28T10:28:13.816+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.817+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id = ? AND is_active = TRUE LIMIT 1
2025-11-28T10:28:13.818+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer), 6(Integer)
2025-11-28T10:28:13.820+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 0
2025-11-28T10:28:13.821+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.821+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.f.s.FilterPreferenceServiceImpl    : ?? [필터 설정] 조회 결과 없음: userId=11, channelId=6
2025-11-28T10:28:13.822+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.f.s.FilterPreferenceServiceImpl    : ? [필터 설정] 조회: userId=11, channelId=null
2025-11-28T10:28:13.822+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.822+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==>  Preparing: SELECT id, user_id, channel_id, selected_categories, custom_rule_keywords, dislike_examples, allow_examples, email_notification_settings, is_active, created_at, updated_at FROM user_filter_preferences WHERE user_id = ? AND channel_id IS NULL AND is_active = TRUE LIMIT 1
2025-11-28T10:28:13.823+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : ==> Parameters: 11(Integer)
2025-11-28T10:28:13.827+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] f.m.F.findPreferenceByUserIdAndChannelId : <==      Total: 1
2025-11-28T10:28:13.828+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.829+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340] from current transaction
2025-11-28T10:28:13.829+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.getHourlyFilteredCount       : ==>  Preparing: SELECT COUNT(*) FROM ai_comment_analysis_result acar INNER JOIN youtube_comments yc ON acar.youtube_comment_id = yc.id INNER JOIN youtube_videos yv ON yc.video_id = yv.id WHERE yv.channel_id = ? AND acar.status = 'filtered' AND acar.analyzed_at >= DATE_FORMAT(?, '%Y-%m-%d %H:00:00') AND acar.analyzed_at < DATE_FORMAT(?, '%Y-%m-%d %H:00:00') + INTERVAL 1 HOUR
2025-11-28T10:28:13.830+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.getHourlyFilteredCount       : ==> Parameters: 6(Integer), 2024-12-19T15:00(LocalDateTime), 2024-12-19T15:00(LocalDateTime)
2025-11-28T10:28:13.833+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.a.m.A.getHourlyFilteredCount       : <==      Total: 1
2025-11-28T10:28:13.834+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:13.834+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 시간별 체크: channelId=6, datetime=2024-12-19T15:00, filteredCount=6, threshold=5
2025-11-28T10:28:13.834+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 설정에서 조회한 이메일: emailNotificationSettings.email=heomin000518@naver.com, userId=11
2025-11-28T10:28:13.835+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 최종 수신자 이메일: recipientEmail=heomin000518@naver.com, userId=11
2025-11-28T10:28:17.496+09:00  INFO 23384 --- [http-nio-8080-exec-7] c.m.b.agent.service.AgentServiceImpl     : ? [이메일 알림] 발송 완료: userId=11, channelId=6, channelName=테스트 채널, recipientEmail=heomin000518@naver.com, 시간당filteredCount=6, threshold=5, timeUnit=HOURLY
2025-11-28T10:28:17.497+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:17.497+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:17.497+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e29340]
2025-11-28T10:28:17.503+09:00 DEBUG 23384 --- [http-nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
